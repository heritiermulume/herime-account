import{_ as A,b as q,u as P,a as K,c as X,d as ee}from"./_plugin-vue_export-helper-2pmyU6hP.js";import{withModifiers as D,vModelText as _,vModelDynamic as J,vModelCheckbox as G,vModelRadio as te,vModelSelect as Q}from"./vue.runtime.esm-bundler-DsD8H2A-.js";import{a as F,r as f,q as a,E as o,v as e,x as y,L as v,C as g,J as d,G as b,D as B,z as I,H as N,d as R,F as H,K as T,B as U,M as V,y as C,A as M,f as Y}from"./runtime-core.esm-bundler-D1ARzwY8.js";import E from"./index-DH5hsvb4.js";import"./pinia-D036F5w6.js";const se={name:"Login",emits:["switch-to-register"],setup(i,{emit:t}){const u=q(),s=P(),l=F({email:"",password:"",remember:!1}),c=f({}),r=f(""),n=f(!1),p=f(!1);return{form:l,errors:c,error:r,loading:n,showPassword:p,handleLogin:async()=>{console.log("Login attempt started",l),n.value=!0,c.value={},r.value="";try{console.log("Calling authStore.login...");const x=await s.login(l);console.log("Login successful:",x),u.push("/dashboard")}catch(x){console.error("Login error:",x),x.response?.data?.errors?c.value=x.response.data.errors:x.response?.data?.message?r.value=x.response.data.message:x.response?.status===401?r.value="Identifiants incorrects. Veuillez v√©rifier votre email et mot de passe.":x.response?.status===404?r.value="Service non disponible. Veuillez r√©essayer plus tard.":r.value=x.message||"Une erreur est survenue lors de la connexion."}finally{n.value=!1}}}}},re={class:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 auth-page-background"},oe={class:"max-w-md w-full"},ae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 space-y-6"},ne={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},le={class:"relative"},ie=["type"],de={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ue={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},me={class:"flex items-center justify-between"},ge={class:"flex items-center"},fe={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},xe={class:"flex"},pe={class:"ml-3"},ye={class:"text-sm text-red-800 dark:text-red-200"},ve=["disabled"],be={key:0,class:"flex items-center justify-center"},he={key:1},we={class:"text-center"},ke={class:"text-sm text-gray-600 dark:text-gray-400"};function _e(i,t,u,s,l,c){return o(),a("div",re,[e("div",oe,[t[18]||(t[18]=e("div",{class:"text-center mb-8"},[e("img",{src:"/logo.png",alt:"HERIME Logo",class:"h-12 w-auto mx-auto mb-4"})],-1)),e("div",ae,[t[17]||(t[17]=e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Bienvenue "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Connectez-vous √† votre compte HERIME ")],-1)),e("form",{class:"space-y-4",onSubmit:t[6]||(t[6]=D((...r)=>s.handleLogin&&s.handleLogin(...r),["prevent"]))},[e("div",null,[t[8]||(t[8]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Adresse email ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=r=>s.form.email=r),type:"email",required:"",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":s.errors.email}]),placeholder:"votre@email.com"},null,2),[[_,s.form.email]]),s.errors.email?(o(),a("p",ne,d(s.errors.email[0]),1)):y("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Mot de passe ",-1)),e("div",le,[v(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=r=>s.form.password=r),type:s.showPassword?"text":"password",required:"",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white pr-12",{"border-red-500 focus:ring-red-500":s.errors.password}]),placeholder:"Votre mot de passe"},null,10,ie),[[J,s.form.password]]),e("button",{type:"button",onClick:t[2]||(t[2]=r=>s.showPassword=!s.showPassword),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[s.showPassword?(o(),a("svg",ce,[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(o(),a("svg",de,[...t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),s.errors.password?(o(),a("p",ue,d(s.errors.password[0]),1)):y("",!0)]),e("div",me,[e("div",ge,[v(e("input",{id:"remember-me","onUpdate:modelValue":t[3]||(t[3]=r=>s.form.remember=r),type:"checkbox",class:"h-4 w-4 border-gray-300 rounded focus:ring-2 focus:ring-blue-500",style:{"accent-color":"#003366"}},null,512),[[G,s.form.remember]]),t[12]||(t[12]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Se souvenir de moi ",-1))]),t[13]||(t[13]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium hover:opacity-80",style:{color:"#ffcc33"}}," Mot de passe oubli√© ? ")],-1))]),s.error?(o(),a("div",fe,[e("div",xe,[t[14]||(t[14]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",pe,[e("p",ye,d(s.error),1)])])])):y("",!0),e("button",{type:"submit",disabled:s.loading,class:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 text-white font-medium rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366"},onMouseenter:t[4]||(t[4]=r=>r.target.style.backgroundColor="#ffcc33"),onMouseleave:t[5]||(t[5]=r=>r.target.style.backgroundColor="#003366")},[s.loading?(o(),a("span",be,[...t[15]||(t[15]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"},null,-1),b(" Connexion... ",-1)])])):(o(),a("span",he,"Se connecter"))],40,ve)],32),e("div",we,[e("p",ke,[t[16]||(t[16]=b(" Vous n'avez pas de compte ? ",-1)),e("button",{onClick:t[7]||(t[7]=r=>i.$emit("switch-to-register")),class:"font-medium hover:opacity-80 ml-1",style:{color:"#ffcc33"}}," Cr√©er un compte ")])])])])])}const Ce=A(se,[["render",_e]]),Me={name:"Register",emits:["switch-to-login"],setup(i,{emit:t}){const u=q(),s=P(),l=F({name:"",email:"",phone:"",company:"",position:"",password:"",password_confirmation:"",terms:!1}),c=f({}),r=f(""),n=f(!1),p=f(!1),m=f(!1);return{form:l,errors:c,error:r,loading:n,showPassword:p,showPasswordConfirmation:m,handleRegister:async()=>{n.value=!0,c.value={},r.value="";try{await s.register(l),u.push("/dashboard")}catch(w){console.error("Register error:",w),w.response?.data?.errors?c.value=w.response.data.errors:w.response?.data?.message?r.value=w.response.data.message:w.response?.status===422?r.value="Veuillez v√©rifier les informations saisies.":w.response?.status===409?r.value="Cette adresse email est d√©j√† utilis√©e.":w.response?.status===404?r.value="Service non disponible. Veuillez r√©essayer plus tard.":r.value=w.message||"Une erreur est survenue lors de la cr√©ation du compte."}finally{n.value=!1}}}}},Se={class:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 auth-page-background"},ze={class:"max-w-md w-full"},je={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 space-y-6"},Ae={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Ee={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Le={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Ue={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Pe={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},$e={class:"relative"},Ve=["type"],De={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Be={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Ne={class:"relative"},qe=["type"],Fe={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},He={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Ie={class:"flex items-center"},Ge={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},Oe={class:"flex"},Je={class:"ml-3"},Ye={class:"text-sm text-red-800 dark:text-red-200"},Qe=["disabled"],We={key:0,class:"flex items-center justify-center"},Ze={key:1},Ke={class:"text-center"},Xe={class:"text-sm text-gray-600 dark:text-gray-400"};function et(i,t,u,s,l,c){return o(),a("div",Se,[e("div",ze,[t[30]||(t[30]=e("div",{class:"text-center mb-8"},[e("img",{src:"/logo.png",alt:"HERIME Logo",class:"h-12 w-auto mx-auto mb-4"})],-1)),e("div",je,[t[29]||(t[29]=e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Cr√©er un compte "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Rejoignez l'√©cosyst√®me HERIME ")],-1)),e("form",{class:"space-y-4",onSubmit:t[12]||(t[12]=D((...r)=>s.handleRegister&&s.handleRegister(...r),["prevent"]))},[e("div",null,[t[14]||(t[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Nom complet ",-1)),v(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=r=>s.form.name=r),type:"text",required:"",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":s.errors.name}]),placeholder:"Votre nom complet"},null,2),[[_,s.form.name]]),s.errors.name?(o(),a("p",Ae,d(s.errors.name[0]),1)):y("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Adresse email ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=r=>s.form.email=r),type:"email",required:"",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":s.errors.email}]),placeholder:"mail@exemple.com"},null,2),[[_,s.form.email]]),s.errors.email?(o(),a("p",Ee,d(s.errors.email[0]),1)):y("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," T√©l√©phone (optionnel) ",-1)),v(e("input",{id:"phone","onUpdate:modelValue":t[2]||(t[2]=r=>s.form.phone=r),type:"tel",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":s.errors.phone}]),placeholder:"+243 000 000 000"},null,2),[[_,s.form.phone]]),s.errors.phone?(o(),a("p",Le,d(s.errors.phone[0]),1)):y("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{for:"company",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Entreprise (optionnel) ",-1)),v(e("input",{id:"company","onUpdate:modelValue":t[3]||(t[3]=r=>s.form.company=r),type:"text",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":s.errors.company}]),placeholder:"Nom de l'entreprise"},null,2),[[_,s.form.company]]),s.errors.company?(o(),a("p",Ue,d(s.errors.company[0]),1)):y("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Poste (optionnel) ",-1)),v(e("input",{id:"position","onUpdate:modelValue":t[4]||(t[4]=r=>s.form.position=r),type:"text",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":s.errors.position}]),placeholder:"Votre poste"},null,2),[[_,s.form.position]]),s.errors.position?(o(),a("p",Pe,d(s.errors.position[0]),1)):y("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Mot de passe ",-1)),e("div",$e,[v(e("input",{id:"password","onUpdate:modelValue":t[5]||(t[5]=r=>s.form.password=r),type:s.showPassword?"text":"password",required:"",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white pr-12",{"border-red-500 focus:ring-red-500":s.errors.password}]),placeholder:"Votre mot de passe"},null,10,Ve),[[J,s.form.password]]),e("button",{type:"button",onClick:t[6]||(t[6]=r=>s.showPassword=!s.showPassword),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[s.showPassword?(o(),a("svg",Be,[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(o(),a("svg",De,[...t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),s.errors.password?(o(),a("p",Re,d(s.errors.password[0]),1)):y("",!0)]),e("div",null,[t[24]||(t[24]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirmer le mot de passe ",-1)),e("div",Ne,[v(e("input",{id:"password_confirmation","onUpdate:modelValue":t[7]||(t[7]=r=>s.form.password_confirmation=r),type:s.showPasswordConfirmation?"text":"password",required:"",class:g(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white pr-12",{"border-red-500 focus:ring-red-500":s.errors.password_confirmation}]),placeholder:"Confirmez votre mot de passe"},null,10,qe),[[J,s.form.password_confirmation]]),e("button",{type:"button",onClick:t[8]||(t[8]=r=>s.showPasswordConfirmation=!s.showPasswordConfirmation),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[s.showPasswordConfirmation?(o(),a("svg",He,[...t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(o(),a("svg",Fe,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),s.errors.password_confirmation?(o(),a("p",Te,d(s.errors.password_confirmation[0]),1)):y("",!0)]),e("div",Ie,[v(e("input",{id:"terms","onUpdate:modelValue":t[9]||(t[9]=r=>s.form.terms=r),type:"checkbox",required:"",class:"h-4 w-4 border-gray-300 rounded focus:ring-2 focus:ring-blue-500",style:{"accent-color":"#003366"}},null,512),[[G,s.form.terms]]),t[25]||(t[25]=e("label",{for:"terms",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"},[b(" J'accepte les "),e("a",{href:"#",class:"hover:opacity-80",style:{color:"#ffcc33"}}," conditions d'utilisation "),b(" et la "),e("a",{href:"#",class:"hover:opacity-80",style:{color:"#ffcc33"}}," politique de confidentialit√© ")],-1))]),s.error?(o(),a("div",Ge,[e("div",Oe,[t[26]||(t[26]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",Je,[e("p",Ye,d(s.error),1)])])])):y("",!0),e("button",{type:"submit",disabled:s.loading,class:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 text-white font-medium rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366"},onMouseenter:t[10]||(t[10]=r=>r.target.style.backgroundColor="#ffcc33"),onMouseleave:t[11]||(t[11]=r=>r.target.style.backgroundColor="#003366")},[s.loading?(o(),a("span",We,[...t[27]||(t[27]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"},null,-1),b(" Cr√©ation du compte... ",-1)])])):(o(),a("span",Ze,"Cr√©er le compte"))],40,Qe)],32),e("div",Ke,[e("p",Xe,[t[28]||(t[28]=b(" Vous avez d√©j√† un compte ? ",-1)),e("button",{onClick:t[13]||(t[13]=r=>i.$emit("switch-to-login")),class:"font-medium hover:opacity-80 ml-1",style:{color:"#ffcc33"}}," Se connecter ")])])])])])}const tt=A(Me,[["render",et]]),st={name:"Auth",components:{Login:Ce,Register:tt},setup(){const i=q(),t=K(),u=P(),s=f("login");return N(async()=>{t.path==="/register"?s.value="register":s.value="login",await u.checkAuth()&&i.push("/dashboard")}),{currentView:s}}};function rt(i,t,u,s,l,c){const r=B("Login"),n=B("Register");return o(),a("div",null,[s.currentView==="login"?(o(),I(r,{key:0,onSwitchToRegister:t[0]||(t[0]=p=>s.currentView="register")})):(o(),I(n,{key:1,onSwitchToLogin:t[1]||(t[1]=p=>s.currentView="login")}))])}const W=A(st,[["render",rt]]),ot={name:"ProfileModal",emits:["close"],setup(i,{emit:t}){const u=P(),s=F({name:"",phone:"",company:"",position:""}),l=f({}),c=f(""),r=f(!1),n=f(null),p=f(null),m=R(()=>u.user);return m.value&&(s.name=m.value.name||"",s.phone=m.value.phone||"",s.company=m.value.company||"",s.position=m.value.position||""),{user:m,form:s,errors:l,error:c,loading:r,previewUrl:n,handleAvatarChange:k=>{const $=k.target.files[0];$&&(p.value=$,n.value=URL.createObjectURL($))},updateProfile:async()=>{r.value=!0,l.value={},c.value="";try{const k=new FormData;k.append("name",s.name),k.append("phone",s.phone),k.append("company",s.company),k.append("position",s.position),p.value&&k.append("avatar",p.value);const $=await E.put("/api/user/profile",k,{headers:{"Content-Type":"multipart/form-data"}});if($.data.success)u.user=$.data.data.user,t("close");else throw new Error($.data.message||"Update failed")}catch(k){k.response?.data?.errors?l.value=k.response.data.errors:c.value=k.message}finally{r.value=!1}},close:()=>{t("close")}}}},at={class:"mt-3"},nt={class:"flex items-center justify-between mb-4"},lt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},it={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},dt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ct={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ut={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},mt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},gt={class:"mt-1 flex items-center space-x-4"},ft={key:0,class:"h-16 w-16 rounded-full overflow-hidden"},xt=["src","alt"],pt={key:1,class:"h-16 w-16 rounded-full flex items-center justify-center",style:{"background-color":"#ffcc33"}},yt={class:"h-10 w-10",style:{color:"#003366"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},bt={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},ht={class:"flex"},wt={class:"ml-3"},kt={class:"text-sm text-red-800 dark:text-red-200"},_t={class:"flex justify-end space-x-3 pt-4"},Ct=["disabled"];function Mt(i,t,u,s,l,c){return o(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:t[11]||(t[11]=(...r)=>s.close&&s.close(...r))},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[10]||(t[10]=D(()=>{},["stop"]))},[e("div",at,[e("div",nt,[t[13]||(t[13]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Modifier le profil ",-1)),e("button",{onClick:t[0]||(t[0]=(...r)=>s.close&&s.close(...r)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[12]||(t[12]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:t[9]||(t[9]=D((...r)=>s.updateProfile&&s.updateProfile(...r),["prevent"])),class:"space-y-4"},[e("div",lt,[e("div",null,[t[14]||(t[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nom complet ",-1)),v(e("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=r=>s.form.name=r),type:"text",required:"",class:g(["input-field mt-1",{"border-red-500":s.errors.name}])},null,2),[[_,s.form.name]]),s.errors.name?(o(),a("p",it,d(s.errors.name[0]),1)):y("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=r=>s.form.email=r),type:"email",disabled:"",class:"input-field mt-1 bg-gray-100 dark:bg-gray-700"},null,512),[[_,s.form.email]]),t[16]||(t[16]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," L'email ne peut pas √™tre modifi√© ",-1))])]),e("div",dt,[e("div",null,[t[17]||(t[17]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," T√©l√©phone ",-1)),v(e("input",{id:"phone","onUpdate:modelValue":t[3]||(t[3]=r=>s.form.phone=r),type:"tel",class:g(["input-field mt-1",{"border-red-500":s.errors.phone}])},null,2),[[_,s.form.phone]]),s.errors.phone?(o(),a("p",ct,d(s.errors.phone[0]),1)):y("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{for:"company",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Entreprise ",-1)),v(e("input",{id:"company","onUpdate:modelValue":t[4]||(t[4]=r=>s.form.company=r),type:"text",class:g(["input-field mt-1",{"border-red-500":s.errors.company}])},null,2),[[_,s.form.company]]),s.errors.company?(o(),a("p",ut,d(s.errors.company[0]),1)):y("",!0)])]),e("div",null,[t[19]||(t[19]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Poste ",-1)),v(e("input",{id:"position","onUpdate:modelValue":t[5]||(t[5]=r=>s.form.position=r),type:"text",class:g(["input-field mt-1",{"border-red-500":s.errors.position}])},null,2),[[_,s.form.position]]),s.errors.position?(o(),a("p",mt,d(s.errors.position[0]),1)):y("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"avatar",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Photo de profil ",-1)),e("div",gt,[s.previewUrl||s.user.avatar_url?(o(),a("div",ft,[e("img",{src:s.previewUrl||s.user.avatar_url,alt:s.user.name,class:"h-full w-full object-cover"},null,8,xt)])):(o(),a("div",pt,[(o(),a("svg",yt,[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))])),e("div",null,[e("input",{id:"avatar",ref:"avatarInput",type:"file",accept:"image/*",onChange:t[6]||(t[6]=(...r)=>s.handleAvatarChange&&s.handleAvatarChange(...r)),class:"hidden"},null,544),e("button",{type:"button",onClick:t[7]||(t[7]=r=>i.$refs.avatarInput.click()),class:"btn-secondary"}," Changer la photo "),t[21]||(t[21]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," JPG, PNG ou GIF. Max 2MB. ",-1))])]),s.errors.avatar?(o(),a("p",vt,d(s.errors.avatar[0]),1)):y("",!0)]),s.error?(o(),a("div",bt,[e("div",ht,[t[23]||(t[23]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",wt,[e("p",kt,d(s.error),1)])])])):y("",!0),e("div",_t,[e("button",{type:"button",onClick:t[8]||(t[8]=(...r)=>s.close&&s.close(...r)),class:"btn-secondary"}," Annuler "),e("button",{type:"submit",disabled:s.loading,class:"btn-primary"},d(s.loading?"Sauvegarde...":"Sauvegarder"),9,Ct)])],32)])])])}const St=A(ot,[["render",Mt]]),zt={name:"SessionsModal",emits:["close"],setup(i,{emit:t}){const u=f([]),s=f(!1),l=m=>m?new Date(m).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Jamais",c=async()=>{try{const m=await E.get("/api/sso/sessions");m.data.success&&(u.value=m.data.data.sessions)}catch(m){console.error("Error loading sessions:",m)}},r=async m=>{if(confirm("√ätes-vous s√ªr de vouloir d√©connecter cette session ?")){s.value=!0;try{(await E.delete(`/api/sso/sessions/${m}`)).data.success&&await c()}catch(x){console.error("Error revoking session:",x),alert("Erreur lors de la d√©connexion de la session")}finally{s.value=!1}}},n=async()=>{if(confirm("√ätes-vous s√ªr de vouloir d√©connecter tous les autres appareils ?")){s.value=!0;try{(await E.delete("/api/sso/sessions")).data.success&&await c()}catch(m){console.error("Error revoking all sessions:",m),alert("Erreur lors de la d√©connexion des sessions")}finally{s.value=!1}}},p=()=>{t("close")};return N(()=>{c()}),{sessions:u,loading:s,formatDate:l,revokeSession:r,revokeAllSessions:n,close:p}}},jt={class:"mt-3"},At={class:"flex items-center justify-between mb-4"},Et={class:"space-y-4"},Lt={class:"flex items-center space-x-3"},Ut={class:"flex-shrink-0"},Pt={class:"h-10 w-10 rounded-full flex items-center justify-center",style:{"background-color":"rgba(255, 204, 51, 0.2)"}},$t={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vt={class:"flex-1 min-w-0"},Dt={class:"flex items-center space-x-2"},Bt={class:"text-sm font-medium text-gray-900 dark:text-white"},Rt={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-white",style:{"background-color":"#ffcc33"}},Nt={class:"text-sm text-gray-500 dark:text-gray-400"},qt={class:"text-xs text-gray-400 dark:text-gray-500"},Ft={class:"flex items-center space-x-2"},Ht=["onClick","disabled"],Tt={key:0,class:"text-center py-8"},It={class:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-600"},Gt=["disabled"];function Ot(i,t,u,s,l,c){return o(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:t[4]||(t[4]=(...r)=>s.close&&s.close(...r))},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[3]||(t[3]=D(()=>{},["stop"]))},[e("div",jt,[e("div",At,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," G√©rer les sessions ",-1)),e("button",{onClick:t[0]||(t[0]=(...r)=>s.close&&s.close(...r)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[5]||(t[5]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t[9]||(t[9]=e("div",{class:"mb-4"},[e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," G√©rez les appareils et navigateurs qui ont acc√®s √† votre compte. D√©connectez-vous de tous les appareils que vous ne reconnaissez pas. ")],-1)),e("div",Et,[(o(!0),a(H,null,T(s.sessions,r=>(o(),a("div",{key:r.id,class:g(["flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg",{"border-2":r.is_current}]),style:U(r.is_current?"background-color: rgba(255, 204, 51, 0.1); border-color: #ffcc33;":"")},[e("div",Lt,[e("div",Ut,[e("div",Pt,[(o(),a("svg",$t,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1)])]))])]),e("div",Vt,[e("div",Dt,[e("p",Bt,d(r.device_name),1),r.is_current?(o(),a("span",Rt," Session actuelle ")):y("",!0)]),e("p",Nt,d(r.platform)+" ‚Ä¢ "+d(r.browser),1),e("p",qt,d(r.ip_address)+" ‚Ä¢ Derni√®re activit√©: "+d(s.formatDate(r.last_activity)),1)])]),e("div",Ft,[r.is_current?y("",!0):(o(),a("button",{key:0,onClick:n=>s.revokeSession(r.id),disabled:s.loading,class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium disabled:opacity-50"}," D√©connecter ",8,Ht))])],6))),128))]),s.sessions.length===0?(o(),a("div",Tt,[...t[8]||(t[8]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"Aucune session",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Aucune session active trouv√©e. ",-1)])])):y("",!0),e("div",It,[e("button",{onClick:t[1]||(t[1]=(...r)=>s.revokeAllSessions&&s.revokeAllSessions(...r)),disabled:s.loading||s.sessions.filter(r=>!r.is_current).length===0,class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium disabled:opacity-50"}," D√©connecter tous les autres appareils ",8,Gt),e("button",{onClick:t[2]||(t[2]=(...r)=>s.close&&s.close(...r)),class:"btn-secondary"}," Fermer ")])])])])}const Jt=A(zt,[["render",Ot]]),Yt={name:"SecurityModal",emits:["close"],setup(i,{emit:t}){const u=P(),s=q(),l=F({current_password:"",password:"",password_confirmation:""}),c=f({}),r=f(""),n=f(""),p=f(!1),m=f(!1),x=f(!1),w=f(!1),h=f(!1),k=f("");return{passwordForm:l,passwordErrors:c,passwordError:r,passwordSuccess:n,passwordLoading:p,showDeactivateModal:m,showDeleteModal:x,deactivateLoading:w,deleteLoading:h,deleteConfirmation:k,changePassword:async()=>{p.value=!0,c.value={},r.value="",n.value="";try{const L=await E.post("/api/user/change-password",l);if(L.data.success)n.value="Mot de passe chang√© avec succ√®s",l.current_password="",l.password="",l.password_confirmation="";else throw new Error(L.data.message||"Password change failed")}catch(L){L.response?.data?.errors?c.value=L.response.data.errors:r.value=L.message}finally{p.value=!1}},deactivateAccount:async()=>{w.value=!0;try{(await E.post("/api/user/deactivate",{password:l.current_password})).data.success&&(await u.logout(),s.push("/login"))}catch(L){alert(L.response?.data?.message||"Erreur lors de la d√©sactivation")}finally{w.value=!1,m.value=!1}},deleteAccount:async()=>{h.value=!0;try{(await E.delete("/api/user/account",{data:{password:l.current_password,confirmation:k.value}})).data.success&&(await u.logout(),s.push("/login"))}catch(L){alert(L.response?.data?.message||"Erreur lors de la suppression")}finally{h.value=!1,x.value=!1}},close:()=>{t("close")}}}},Qt={class:"mt-3"},Wt={class:"flex items-center justify-between mb-4"},Zt={class:"space-y-6"},Kt={class:"border-b border-gray-200 dark:border-gray-600 pb-6"},Xt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},es={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ts={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ss={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},rs={class:"flex"},os={class:"ml-3"},as={class:"text-sm text-red-800 dark:text-red-200"},ns={key:1,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},ls={class:"flex"},is={class:"ml-3"},ds={class:"text-sm text-green-800 dark:text-green-200"},cs={class:"flex justify-end"},us=["disabled"],ms={class:"space-y-4"},gs={class:"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg"},fs={class:"flex justify-between items-center p-4 border border-red-200 dark:border-red-800 rounded-lg"},xs={class:"flex justify-end pt-4"},ps={class:"mt-3"},ys={class:"flex justify-end space-x-3"},vs=["disabled"],bs={class:"mt-3"},hs={class:"mb-4"},ws={class:"flex justify-end space-x-3"},ks=["disabled"];function _s(i,t,u,s,l,c){return o(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:t[18]||(t[18]=(...r)=>s.close&&s.close(...r))},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[8]||(t[8]=D(()=>{},["stop"]))},[e("div",Qt,[e("div",Wt,[t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Param√®tres de s√©curit√© ",-1)),e("button",{onClick:t[0]||(t[0]=(...r)=>s.close&&s.close(...r)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[19]||(t[19]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Zt,[e("div",Kt,[t[26]||(t[26]=e("h4",{class:"text-md font-medium text-gray-900 dark:text-white mb-4"}," Changer le mot de passe ",-1)),e("form",{onSubmit:t[4]||(t[4]=D((...r)=>s.changePassword&&s.changePassword(...r),["prevent"])),class:"space-y-4"},[e("div",null,[t[21]||(t[21]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mot de passe actuel ",-1)),v(e("input",{id:"current_password","onUpdate:modelValue":t[1]||(t[1]=r=>s.passwordForm.current_password=r),type:"password",required:"",class:g(["input-field mt-1",{"border-red-500":s.passwordErrors.current_password}])},null,2),[[_,s.passwordForm.current_password]]),s.passwordErrors.current_password?(o(),a("p",Xt,d(s.passwordErrors.current_password[0]),1)):y("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"new_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nouveau mot de passe ",-1)),v(e("input",{id:"new_password","onUpdate:modelValue":t[2]||(t[2]=r=>s.passwordForm.password=r),type:"password",required:"",class:g(["input-field mt-1",{"border-red-500":s.passwordErrors.password}])},null,2),[[_,s.passwordForm.password]]),s.passwordErrors.password?(o(),a("p",es,d(s.passwordErrors.password[0]),1)):y("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Confirmer le nouveau mot de passe ",-1)),v(e("input",{id:"password_confirmation","onUpdate:modelValue":t[3]||(t[3]=r=>s.passwordForm.password_confirmation=r),type:"password",required:"",class:g(["input-field mt-1",{"border-red-500":s.passwordErrors.password_confirmation}])},null,2),[[_,s.passwordForm.password_confirmation]]),s.passwordErrors.password_confirmation?(o(),a("p",ts,d(s.passwordErrors.password_confirmation[0]),1)):y("",!0)]),s.passwordError?(o(),a("div",ss,[e("div",rs,[t[24]||(t[24]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",os,[e("p",as,d(s.passwordError),1)])])])):y("",!0),s.passwordSuccess?(o(),a("div",ns,[e("div",ls,[t[25]||(t[25]=e("svg",{class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),e("div",is,[e("p",ds,d(s.passwordSuccess),1)])])])):y("",!0),e("div",cs,[e("button",{type:"submit",disabled:s.passwordLoading,class:"btn-primary"},d(s.passwordLoading?"Changement...":"Changer le mot de passe"),9,us)])],32)]),t[30]||(t[30]=V('<div class="border-b border-gray-200 dark:border-gray-600 pb-6"><h4 class="text-md font-medium text-gray-900 dark:text-white mb-4"> Authentification √† deux facteurs </h4><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600 dark:text-gray-400"> Ajoutez une couche de s√©curit√© suppl√©mentaire √† votre compte </p></div><button class="btn-secondary" disabled> Bient√¥t disponible </button></div></div>',1)),e("div",ms,[t[29]||(t[29]=V('<h4 class="text-md font-medium text-gray-900 dark:text-white"> Actions du compte </h4><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"><div class="flex"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.726-1.36 3.491 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> Zone de danger </h3><div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300"><p>Ces actions sont irr√©versibles. Soyez prudent.</p></div></div></div></div>',2)),e("div",gs,[t[27]||(t[27]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," D√©sactiver le compte "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Votre compte sera d√©sactiv√© mais pourra √™tre r√©activ√© plus tard ")],-1)),e("button",{onClick:t[5]||(t[5]=r=>s.showDeactivateModal=!0),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium"}," D√©sactiver ")]),e("div",fs,[t[28]||(t[28]=e("div",null,[e("h5",{class:"text-sm font-medium text-red-900 dark:text-red-200"}," Supprimer le compte "),e("p",{class:"text-sm text-red-600 dark:text-red-400"}," Supprimer d√©finitivement votre compte et toutes vos donn√©es ")],-1)),e("button",{onClick:t[6]||(t[6]=r=>s.showDeleteModal=!0),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium"}," Supprimer ")])])]),e("div",xs,[e("button",{onClick:t[7]||(t[7]=(...r)=>s.close&&s.close(...r)),class:"btn-secondary"}," Fermer ")])])]),s.showDeactivateModal?(o(),a("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-60",onClick:t[12]||(t[12]=r=>s.showDeactivateModal=!1)},[e("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[11]||(t[11]=D(()=>{},["stop"]))},[e("div",ps,[t[31]||(t[31]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," D√©sactiver le compte ",-1)),t[32]||(t[32]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," √ätes-vous s√ªr de vouloir d√©sactiver votre compte ? Vous pourrez le r√©activer plus tard. ",-1)),e("div",ys,[e("button",{onClick:t[9]||(t[9]=r=>s.showDeactivateModal=!1),class:"btn-secondary"}," Annuler "),e("button",{onClick:t[10]||(t[10]=(...r)=>s.deactivateAccount&&s.deactivateAccount(...r)),disabled:s.deactivateLoading,class:"bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50"},d(s.deactivateLoading?"D√©sactivation...":"D√©sactiver"),9,vs)])])])])):y("",!0),s.showDeleteModal?(o(),a("div",{key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-60",onClick:t[17]||(t[17]=r=>s.showDeleteModal=!1)},[e("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[16]||(t[16]=D(()=>{},["stop"]))},[e("div",bs,[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-red-900 dark:text-red-200 mb-4"}," Supprimer le compte ",-1)),t[35]||(t[35]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Cette action est irr√©versible. Toutes vos donn√©es seront supprim√©es d√©finitivement. ",-1)),e("div",hs,[t[33]||(t[33]=e("label",{for:"confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},' Tapez "SUPPRIMER" pour confirmer ',-1)),v(e("input",{id:"confirmation","onUpdate:modelValue":t[13]||(t[13]=r=>s.deleteConfirmation=r),type:"text",class:"input-field mt-1",placeholder:"SUPPRIMER"},null,512),[[_,s.deleteConfirmation]])]),e("div",ws,[e("button",{onClick:t[14]||(t[14]=r=>s.showDeleteModal=!1),class:"btn-secondary"}," Annuler "),e("button",{onClick:t[15]||(t[15]=(...r)=>s.deleteAccount&&s.deleteAccount(...r)),disabled:s.deleteLoading||s.deleteConfirmation!=="SUPPRIMER",class:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50"},d(s.deleteLoading?"Suppression...":"Supprimer"),9,ks)])])])])):y("",!0)])}const Cs=A(Yt,[["render",_s]]),Ms={name:"Dashboard",components:{ProfileModal:St,SessionsModal:Jt,SecurityModal:Cs},setup(){const i=P(),t=f(!1),u=f(!1),s=f(!1),l=f([]),c=R(()=>i.user),r=p=>p?new Date(p).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Jamais",n=async()=>{try{console.log("üîÑ Loading sessions from API...");const p=localStorage.getItem("access_token");console.log("üîë Token available:",p?"Yes ("+p.substring(0,20)+"...)":"No");const m=await axios.get("/api/sso/sessions");console.log("‚úÖ Sessions API response:",m.status,m.data),m.data.success?(l.value=m.data.data.sessions||[],console.log("üìä Sessions loaded:",l.value.length,"sessions")):(console.warn("‚ö†Ô∏è Sessions response not successful:",m.data),l.value=[])}catch(p){console.error("‚ùå Error loading sessions:",p),console.error("   Status:",p.response?.status),console.error("   Message:",p.response?.data?.message||p.message),console.error("   Data:",p.response?.data),p.response?.status===401&&console.error("üîí Unauthorized - token may be invalid or expired"),l.value=[]}};return N(async()=>{console.log("Dashboard mounted, user:",i.user),console.log("Authenticated:",i.authenticated),i.user||(console.log("Loading user..."),await i.checkAuth(),console.log("User after checkAuth:",i.user)),n()}),{user:c,sessions:l,showProfileModal:t,showSessionsModal:u,showSecurityModal:s,formatDate:r}}},Ss={class:"space-y-6"},zs={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},js={key:1,class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},As={class:"px-4 py-5 sm:p-6"},Es={class:"flex items-center"},Ls={class:"flex-shrink-0"},Us={key:0,class:"h-16 w-16 rounded-full overflow-hidden"},Ps=["src","alt"],$s={key:1,class:"h-16 w-16 rounded-full flex items-center justify-center",style:{"background-color":"#ffcc33"}},Vs={class:"h-10 w-10",style:{color:"#003366"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ds={class:"ml-5 w-0 flex-1"},Bs={class:"text-lg font-medium text-gray-900 dark:text-white"},Rs={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},Ns={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},qs={class:"p-5"},Fs={class:"flex items-center"},Hs={class:"flex-shrink-0"},Ts={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Is={class:"ml-5 w-0 flex-1"},Gs={class:"text-lg font-medium text-gray-900 dark:text-white"},Os={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Js={class:"p-5"},Ys={class:"flex items-center"},Qs={class:"flex-shrink-0"},Ws={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Zs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Ks={class:"p-5"},Xs={class:"flex items-center"},er={class:"flex-shrink-0"},tr={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},sr={class:"ml-5 w-0 flex-1"},rr={class:"text-lg font-medium text-gray-900 dark:text-white"},or={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},ar={class:"px-4 py-5 sm:p-6"},nr={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},lr={class:"flex items-center"},ir={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},dr={class:"flex items-center"},cr={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ur={class:"flex items-center"},mr={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},gr={class:"flex items-center"},fr={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xr={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},pr={class:"px-4 py-5 sm:p-6"},yr={class:"flow-root"},vr={class:"-mb-8"},br={class:"relative pb-8"},hr={key:0,class:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600"},wr={class:"relative flex space-x-3"},kr={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},_r={class:"text-sm text-gray-500 dark:text-gray-400"},Cr={class:"text-sm text-gray-900 dark:text-white"},Mr={class:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400"},Sr=["datetime"];function zr(i,t,u,s,l,c){const r=B("router-link"),n=B("ProfileModal"),p=B("SessionsModal"),m=B("SecurityModal");return o(),a("div",Ss,[s.user?(o(),a("div",js,[e("div",As,[e("div",Es,[e("div",Ls,[s.user.avatar_url?(o(),a("div",Us,[e("img",{src:s.user.avatar_url,alt:s.user.name,class:"h-full w-full object-cover"},null,8,Ps)])):(o(),a("div",$s,[(o(),a("svg",Vs,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]))]),e("div",Ds,[e("dl",null,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Bienvenue ",-1)),e("dd",Bs,d(s.user.name),1)])])])])])):(o(),a("div",zs,[...t[3]||(t[3]=[e("div",{class:"px-4 py-5 sm:p-6"},[e("div",{class:"flex items-center justify-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2",style:{"border-color":"#003366"}}),e("span",{class:"ml-3 text-gray-700 dark:text-gray-300"},"Chargement du dashboard...")])],-1)])])),e("div",Rs,[e("div",Ns,[e("div",qs,[e("div",Fs,[e("div",Hs,[(o(),a("svg",Ts,[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"},null,-1)])]))]),e("div",Is,[e("dl",null,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Sessions actives ",-1)),e("dd",Gs,d(s.sessions.length),1)])])])])]),e("div",Os,[e("div",Js,[e("div",Ys,[e("div",Qs,[(o(),a("svg",Ws,[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),t[9]||(t[9]=e("div",{class:"ml-5 w-0 flex-1"},[e("dl",null,[e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Statut du compte "),e("dd",{class:"text-lg font-medium",style:{color:"#ffcc33"}}," Actif ")])],-1))])])]),e("div",Zs,[e("div",Ks,[e("div",Xs,[e("div",er,[(o(),a("svg",tr,[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),e("div",sr,[e("dl",null,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Derni√®re connexion ",-1)),e("dd",rr,d(s.formatDate(s.user.last_login_at)),1)])])])])])]),e("div",or,[e("div",ar,[t[20]||(t[20]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Actions rapides ",-1)),e("div",nr,[C(r,{to:"/profile",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",lr,[(o(),a("svg",ir,[...t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])])),t[13]||(t[13]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," Modifier le profil ",-1))])]),_:1}),C(r,{to:"/security",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",dr,[(o(),a("svg",cr,[...t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])])),t[15]||(t[15]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," S√©curit√© ",-1))])]),_:1}),C(r,{to:"/notifications",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",ur,[(o(),a("svg",mr,[...t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12 7H4.828zM4.828 17l2.586-2.586a2 2 0 012.828 0L12 17H4.828z"},null,-1)])])),t[17]||(t[17]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," Notifications ",-1))])]),_:1}),C(r,{to:"/about",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",gr,[(o(),a("svg",fr,[...t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),t[19]||(t[19]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," √Ä propos ",-1))])]),_:1})])])]),e("div",xr,[e("div",pr,[t[22]||(t[22]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Sessions r√©centes ",-1)),e("div",yr,[e("ul",vr,[(o(!0),a(H,null,T(s.sessions.slice(0,5),(x,w)=>(o(),a("li",{key:x.id},[e("div",br,[w!==s.sessions.length-1?(o(),a("div",hr)):y("",!0),e("div",wr,[t[21]||(t[21]=e("div",null,[e("span",{class:"h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800",style:{"background-color":"#003366"}},[e("svg",{class:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])])],-1)),e("div",kr,[e("div",null,[e("p",_r,d(x.device_name)+" ‚Ä¢ "+d(x.platform)+" ‚Ä¢ "+d(x.browser),1),e("p",Cr,d(x.ip_address),1)]),e("div",Mr,[e("time",{datetime:x.last_activity},d(s.formatDate(x.last_activity)),9,Sr)])])])])]))),128))])])])]),s.showProfileModal?(o(),I(n,{key:2,onClose:t[0]||(t[0]=x=>s.showProfileModal=!1)})):y("",!0),s.showSessionsModal?(o(),I(p,{key:3,onClose:t[1]||(t[1]=x=>s.showSessionsModal=!1)})):y("",!0),s.showSecurityModal?(o(),I(m,{key:4,onClose:t[2]||(t[2]=x=>s.showSecurityModal=!1)})):y("",!0)])}const jr=A(Ms,[["render",zr]]),Ar={name:"Profile",setup(){const i=P(),t=Y("notify"),u=f(!1),s=f(null),l=R(()=>i.user),c=F({name:"",email:"",phone:"",bio:"",location:"",website:"",avatar_url:"",email_notifications:!0,marketing_emails:!1}),r=()=>{s.value?.click()},n=w=>{const h=w.target.files[0];if(h){const k=new FileReader;k.onload=$=>{c.avatar_url=$.target.result},k.readAsDataURL(h)}},p=()=>{c.email_notifications=!c.email_notifications},m=()=>{c.marketing_emails=!c.marketing_emails},x=async()=>{u.value=!0;try{const w=await axios.post("/user/profile",c);w.data.success&&(i.updateUser(w.data.data.user),t.success("Succ√®s","Profil mis √† jour avec succ√®s!"))}catch(w){console.error("Error updating profile:",w),w.response?.data?.message?t.error("Erreur",w.response.data.message):t.error("Erreur","Erreur lors de la mise √† jour du profil")}finally{u.value=!1}};return N(()=>{l.value&&Object.assign(c,{name:l.value.name||"",email:l.value.email||"",phone:l.value.phone||"",bio:l.value.bio||"",location:l.value.location||"",website:l.value.website||"",avatar_url:l.value.avatar_url||"",email_notifications:l.value.email_notifications!==!1,marketing_emails:l.value.marketing_emails===!0})}),{user:l,form:c,loading:u,avatarInput:s,triggerAvatarUpload:r,handleAvatarChange:n,toggleEmailNotifications:p,toggleMarketingEmails:m,updateProfile:x}}},Er={class:"space-y-6"},Lr={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Ur={class:"px-4 py-5 sm:p-6"},Pr={class:"flex items-center space-x-6"},$r={class:"flex-shrink-0"},Vr={key:0,class:"h-20 w-20 rounded-full overflow-hidden"},Dr=["src","alt"],Br={key:1,class:"h-20 w-20 rounded-full flex items-center justify-center",style:{"background-color":"#ffcc33"}},Rr={class:"h-12 w-12",style:{color:"#003366"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nr={class:"flex justify-end"},qr=["disabled"],Fr={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Hr={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Tr={class:"px-4 py-5 sm:p-6"},Ir={class:"space-y-4"},Gr={class:"flex items-center justify-between"},Or={class:"flex items-center justify-between"};function Jr(i,t,u,s,l,c){return o(),a("div",Er,[t[24]||(t[24]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Profil</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> G√©rez vos informations personnelles et vos pr√©f√©rences de compte </p></div></div></div></div>',1)),e("div",Lr,[e("div",Ur,[t[20]||(t[20]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Informations personnelles ",-1)),e("form",{onSubmit:t[10]||(t[10]=D((...r)=>s.updateProfile&&s.updateProfile(...r),["prevent"])),class:"space-y-6"},[e("div",Pr,[e("div",$r,[s.form.avatar_url?(o(),a("div",Vr,[e("img",{src:s.form.avatar_url,alt:s.form.name,class:"h-full w-full object-cover"},null,8,Dr)])):(o(),a("div",Br,[(o(),a("svg",Rr,[...t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]))]),e("div",null,[e("button",{type:"button",onClick:t[0]||(t[0]=(...r)=>s.triggerAvatarUpload&&s.triggerAvatarUpload(...r)),class:"bg-white dark:bg-gray-700 py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{focus:"ring-color: #ffcc33"}}," Changer la photo "),e("input",{ref:"avatarInput",type:"file",accept:"image/*",onChange:t[1]||(t[1]=(...r)=>s.handleAvatarChange&&s.handleAvatarChange(...r)),class:"hidden"},null,544)])]),e("div",null,[t[14]||(t[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nom complet ",-1)),v(e("input",{id:"name","onUpdate:modelValue":t[2]||(t[2]=r=>s.form.name=r),type:"text",required:"",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,s.form.name]])]),e("div",null,[t[15]||(t[15]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Adresse e-mail ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[3]||(t[3]=r=>s.form.email=r),type:"email",required:"",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,s.form.email]])]),e("div",null,[t[16]||(t[16]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," T√©l√©phone ",-1)),v(e("input",{id:"phone","onUpdate:modelValue":t[4]||(t[4]=r=>s.form.phone=r),type:"tel",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,s.form.phone]])]),e("div",null,[t[17]||(t[17]=e("label",{for:"bio",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Biographie ",-1)),v(e("textarea",{id:"bio","onUpdate:modelValue":t[5]||(t[5]=r=>s.form.bio=r),rows:"3",class:"mt-1 block w-full px-3 py-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"},placeholder:"Parlez-nous de vous..."},null,512),[[_,s.form.bio]])]),e("div",null,[t[18]||(t[18]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Localisation ",-1)),v(e("input",{id:"location","onUpdate:modelValue":t[6]||(t[6]=r=>s.form.location=r),type:"text",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"},placeholder:"Ville, Pays"},null,512),[[_,s.form.location]])]),e("div",null,[t[19]||(t[19]=e("label",{for:"website",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Site web ",-1)),v(e("input",{id:"website","onUpdate:modelValue":t[7]||(t[7]=r=>s.form.website=r),type:"url",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"},placeholder:"https://example.com"},null,512),[[_,s.form.website]])]),e("div",Nr,[e("button",{type:"submit",disabled:s.loading,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366",focus:"ring-color: #003366"},onMouseenter:t[8]||(t[8]=r=>r.target.style.backgroundColor="#ffcc33"),onMouseleave:t[9]||(t[9]=r=>r.target.style.backgroundColor="#003366")},[s.loading?(o(),a("div",Fr)):y("",!0),b(" "+d(s.loading?"Mise √† jour...":"Mettre √† jour le profil"),1)],40,qr)])],32)])]),e("div",Hr,[e("div",Tr,[t[23]||(t[23]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Param√®tres du compte ",-1)),e("div",Ir,[e("div",Gr,[t[21]||(t[21]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Notifications par e-mail "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez des notifications importantes par e-mail ")],-1)),e("button",{onClick:t[11]||(t[11]=(...r)=>s.toggleEmailNotifications&&s.toggleEmailNotifications(...r)),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.form.email_notifications?"bg-herime-blue-500":"bg-gray-200 dark:bg-gray-600"]),style:U(s.form.email_notifications?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.form.email_notifications?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Or,[t[22]||(t[22]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," E-mails marketing "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez des mises √† jour sur nos produits et services ")],-1)),e("button",{onClick:t[12]||(t[12]=(...r)=>s.toggleMarketingEmails&&s.toggleMarketingEmails(...r)),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.form.marketing_emails?"bg-herime-blue-500":"bg-gray-200 dark:bg-gray-600"]),style:U(s.form.marketing_emails?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.form.marketing_emails?"translate-x-5":"translate-x-0"])},null,2)],6)])])])])])}const Yr=A(Ar,[["render",Jr]]),Qr={name:"Security",setup(){P();const i=Y("notify"),t=f(!1),u=f(!1),s=f([]),l=f([]),c=F({current_password:"",new_password:"",confirm_password:""}),r=async()=>{if(c.new_password!==c.confirm_password){i.error("Erreur","Les mots de passe ne correspondent pas");return}t.value=!0;try{await axios.put("/user/password",{current_password:c.current_password,password:c.new_password,password_confirmation:c.confirm_password}),i.success("Succ√®s","Mot de passe mis √† jour avec succ√®s!"),Object.assign(c,{current_password:"",new_password:"",confirm_password:""})}catch(h){console.error("Error updating password:",h),h.response?.data?.message?i.error("Erreur",h.response.data.message):i.error("Erreur","Erreur lors de la mise √† jour du mot de passe")}finally{t.value=!1}},n=async()=>{try{await new Promise(h=>setTimeout(h,500)),u.value=!u.value,i.success("Succ√®s",u.value?"2FA activ√©!":"2FA d√©sactiv√©!")}catch(h){console.error("Error toggling 2FA:",h),i.error("Erreur","Erreur lors de la modification de la 2FA")}},p=async h=>{if(confirm("√ätes-vous s√ªr de vouloir r√©voquer cet appareil?"))try{await axios.delete(`/sso/sessions/${h}`),s.value=s.value.filter(k=>k.id!==h),i.success("Succ√®s","Appareil r√©voqu√© avec succ√®s!")}catch(k){console.error("Error revoking device:",k),k.response?.data?.message?i.error("Erreur",k.response.data.message):i.error("Erreur","Erreur lors de la r√©vocation de l'appareil")}},m=h=>h?new Date(h).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Jamais",x=async()=>{try{const h=await axios.get("/sso/sessions");h.data.success&&(s.value=h.data.data.sessions)}catch(h){console.error("Error loading devices:",h),i.error("Erreur","Erreur lors du chargement des appareils")}},w=async()=>{try{const h=await axios.get("/sso/sessions");h.data.success&&(l.value=h.data.data.sessions.map(k=>({...k,success:!0,created_at:k.created_at})))}catch(h){console.error("Error loading login history:",h),i.error("Erreur","Erreur lors du chargement de l'historique de connexion")}};return N(()=>{x(),w()}),{passwordForm:c,passwordLoading:t,twoFactorEnabled:u,devices:s,loginHistory:l,updatePassword:r,toggleTwoFactor:n,revokeDevice:p,formatDate:m}}},Wr={class:"space-y-6"},Zr={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Kr={class:"px-4 py-5 sm:p-6"},Xr={class:"flex justify-end"},eo=["disabled"],to={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},so={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},ro={class:"px-4 py-5 sm:p-6"},oo={class:"space-y-4"},ao={class:"flex items-center justify-between"},no={class:"flex items-center space-x-3"},lo={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-4"},io={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},co={class:"px-4 py-5 sm:p-6"},uo={class:"space-y-4"},mo={class:"flex items-center space-x-4"},go={class:"text-sm font-medium text-gray-900 dark:text-white"},fo={class:"text-sm text-gray-500 dark:text-gray-400"},xo={class:"text-xs text-gray-400 dark:text-gray-500"},po={class:"flex items-center space-x-2"},yo={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white",style:{"background-color":"#ffcc33"}},vo=["onClick"],bo={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},ho={class:"px-4 py-5 sm:p-6"},wo={class:"flow-root"},ko={class:"-mb-8"},_o={class:"relative pb-8"},Co={key:0,class:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600"},Mo={class:"relative flex space-x-3"},So={key:0,class:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},zo={key:1,class:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},jo={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},Ao={class:"text-sm text-gray-500 dark:text-gray-400"},Eo={class:"text-sm text-gray-900 dark:text-white"},Lo={class:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400"},Uo=["datetime"];function Po(i,t,u,s,l,c){return o(),a("div",Wr,[t[20]||(t[20]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">S√©curit√©</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> G√©rez vos identifiants, l&#39;authentification √† deux facteurs et les appareils connect√©s </p></div></div></div></div>',1)),e("div",Zr,[e("div",Kr,[t[11]||(t[11]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Mot de passe ",-1)),e("form",{onSubmit:t[5]||(t[5]=D((...r)=>s.updatePassword&&s.updatePassword(...r),["prevent"])),class:"space-y-6"},[e("div",null,[t[7]||(t[7]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mot de passe actuel ",-1)),v(e("input",{id:"current_password","onUpdate:modelValue":t[0]||(t[0]=r=>s.passwordForm.current_password=r),type:"password",required:"",placeholder:"Entrez votre mot de passe actuel",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,s.passwordForm.current_password]])]),e("div",null,[t[8]||(t[8]=e("label",{for:"new_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nouveau mot de passe ",-1)),v(e("input",{id:"new_password","onUpdate:modelValue":t[1]||(t[1]=r=>s.passwordForm.new_password=r),type:"password",required:"",minlength:"8",placeholder:"Entrez votre nouveau mot de passe",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,s.passwordForm.new_password]]),t[9]||(t[9]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Le mot de passe doit contenir au moins 8 caract√®res ",-1))]),e("div",null,[t[10]||(t[10]=e("label",{for:"confirm_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Confirmer le nouveau mot de passe ",-1)),v(e("input",{id:"confirm_password","onUpdate:modelValue":t[2]||(t[2]=r=>s.passwordForm.confirm_password=r),type:"password",required:"",placeholder:"Confirmez votre nouveau mot de passe",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,s.passwordForm.confirm_password]])]),e("div",Xr,[e("button",{type:"submit",disabled:s.passwordLoading,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366",focus:"ring-color: #003366"},onMouseenter:t[3]||(t[3]=r=>r.target.style.backgroundColor="#ffcc33"),onMouseleave:t[4]||(t[4]=r=>r.target.style.backgroundColor="#003366")},[s.passwordLoading?(o(),a("div",to)):y("",!0),b(" "+d(s.passwordLoading?"Mise √† jour...":"Mettre √† jour le mot de passe"),1)],40,eo)])],32)])]),e("div",so,[e("div",ro,[t[14]||(t[14]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Authentification √† deux facteurs ",-1)),e("div",oo,[e("div",ao,[t[12]||(t[12]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Authentification √† deux facteurs "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Ajoutez une couche de s√©curit√© suppl√©mentaire √† votre compte ")],-1)),e("div",no,[e("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.twoFactorEnabled?"text-white":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"]),style:U(s.twoFactorEnabled?"background-color: #ffcc33;":"")},d(s.twoFactorEnabled?"Activ√©":"D√©sactiv√©"),7),e("button",{onClick:t[6]||(t[6]=(...r)=>s.toggleTwoFactor&&s.toggleTwoFactor(...r)),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.twoFactorEnabled?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.twoFactorEnabled?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.twoFactorEnabled?"translate-x-5":"translate-x-0"])},null,2)],6)])]),s.twoFactorEnabled?y("",!0):(o(),a("div",lo,[...t[13]||(t[13]=[V('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> Authentification √† deux facteurs recommand√©e </h3><div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300"><p>Activez l&#39;authentification √† deux facteurs pour renforcer la s√©curit√© de votre compte.</p></div></div></div>',1)])]))])])]),e("div",io,[e("div",co,[t[16]||(t[16]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Appareils connect√©s ",-1)),e("div",uo,[(o(!0),a(H,null,T(s.devices,r=>(o(),a("div",{key:r.id,class:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg"},[e("div",mo,[t[15]||(t[15]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("div",null,[e("h4",go,d(r.device_name),1),e("p",fo,d(r.platform)+" ‚Ä¢ "+d(r.browser)+" ‚Ä¢ "+d(r.ip_address),1),e("p",xo," Derni√®re activit√©: "+d(s.formatDate(r.last_activity)),1)])]),e("div",po,[r.is_current?(o(),a("span",yo," Appareil actuel ")):y("",!0),r.is_current?y("",!0):(o(),a("button",{key:1,onClick:n=>s.revokeDevice(r.id),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium"}," R√©voquer ",8,vo))])]))),128))])])]),e("div",bo,[e("div",ho,[t[19]||(t[19]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Historique de connexion ",-1)),e("div",wo,[e("ul",ko,[(o(!0),a(H,null,T(s.loginHistory,(r,n)=>(o(),a("li",{key:r.id},[e("div",_o,[n!==s.loginHistory.length-1?(o(),a("div",Co)):y("",!0),e("div",Mo,[e("div",null,[e("span",{class:g(["h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800",r.success?"bg-green-500":"bg-red-500"])},[r.success?(o(),a("svg",So,[...t[17]||(t[17]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(o(),a("svg",zo,[...t[18]||(t[18]=[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])]))],2)]),e("div",jo,[e("div",null,[e("p",Ao,d(r.device_name)+" ‚Ä¢ "+d(r.platform)+" ‚Ä¢ "+d(r.browser),1),e("p",Eo,d(r.ip_address),1)]),e("div",Lo,[e("time",{datetime:r.created_at},d(s.formatDate(r.created_at)),9,Uo)])])])])]))),128))])])])])])}const $o=A(Qr,[["render",Po]]),Vo={name:"Notifications",setup(){const i=Y("notify"),t=f(!1),u=f(!1),s=f(!1),l=f("daily"),c=F({suspicious_logins:!0,password_changes:!0,profile_changes:!1,new_features:!0,maintenance:!0,newsletter:!1,special_offers:!1}),r=[{value:"immediate",label:"Imm√©diatement"},{value:"daily",label:"Quotidiennement"},{value:"weekly",label:"Hebdomadairement"},{value:"monthly",label:"Mensuellement"},{value:"never",label:"Jamais"}],n=x=>{c[x]=!c[x]},p=async()=>{s.value?s.value=!1:await Notification.requestPermission()==="granted"?s.value=!0:i.warning("Permission refus√©e","Permission refus√©e pour les notifications push")},m=async()=>{t.value=!0;try{(await axios.put("/user/preferences",{preferences:{notifications:c,email_frequency:l.value,push_notifications:s.value}})).data.success&&i.success("Succ√®s","Pr√©f√©rences de notifications sauvegard√©es!")}catch(x){console.error("Error saving notifications:",x),x.response?.data?.message?i.error("Erreur",x.response.data.message):i.error("Erreur","Erreur lors de la sauvegarde des pr√©f√©rences")}finally{t.value=!1}};return N(()=>{u.value="Notification"in window,u.value&&(s.value=Notification.permission==="granted")}),{saving:t,notifications:c,pushNotificationsSupported:u,pushNotificationsEnabled:s,selectedEmailFrequency:l,emailFrequencies:r,toggleNotification:n,togglePushNotifications:p,saveNotifications:m}}},Do={class:"space-y-6"},Bo={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Ro={class:"px-4 py-5 sm:p-6"},No={class:"space-y-6"},qo={class:"space-y-4"},Fo={class:"flex items-center justify-between"},Ho={class:"flex items-center justify-between"},To={class:"flex items-center justify-between"},Io={class:"space-y-4"},Go={class:"flex items-center justify-between"},Oo={class:"flex items-center justify-between"},Jo={class:"space-y-4"},Yo={class:"flex items-center justify-between"},Qo={class:"flex items-center justify-between"},Wo={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Zo={class:"px-4 py-5 sm:p-6"},Ko={class:"space-y-4"},Xo={class:"flex items-center justify-between"},ea={class:"flex items-center space-x-3"},ta={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-4"},sa={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},ra={class:"px-4 py-5 sm:p-6"},oa={class:"space-y-4"},aa={class:"space-y-2"},na=["id","value"],la=["for"],ia={class:"flex justify-end"},da=["disabled"],ca={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"};function ua(i,t,u,s,l,c){return o(),a("div",Do,[t[28]||(t[28]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Notifications</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> G√©rez vos pr√©f√©rences de notifications et restez inform√© de ce qui vous int√©resse </p></div></div></div></div>',1)),e("div",Bo,[e("div",Ro,[t[22]||(t[22]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Notifications par e-mail ",-1)),e("div",No,[e("div",null,[t[15]||(t[15]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-4"}," Compte et s√©curit√© ",-1)),e("div",qo,[e("div",Fo,[t[12]||(t[12]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Connexions suspectes "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez une alerte en cas de connexion depuis un nouvel appareil ou lieu ")],-1)),e("button",{onClick:t[0]||(t[0]=r=>s.toggleNotification("suspicious_logins")),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.notifications.suspicious_logins?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.notifications.suspicious_logins?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.notifications.suspicious_logins?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Ho,[t[13]||(t[13]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Changements de mot de passe "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Soyez notifi√© lorsque votre mot de passe est modifi√© ")],-1)),e("button",{onClick:t[1]||(t[1]=r=>s.toggleNotification("password_changes")),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.notifications.password_changes?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.notifications.password_changes?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.notifications.password_changes?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",To,[t[14]||(t[14]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Modifications du profil "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez une confirmation des modifications de votre profil ")],-1)),e("button",{onClick:t[2]||(t[2]=r=>s.toggleNotification("profile_changes")),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.notifications.profile_changes?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.notifications.profile_changes?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.notifications.profile_changes?"translate-x-5":"translate-x-0"])},null,2)],6)])])]),e("div",null,[t[18]||(t[18]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-4"}," Mises √† jour produit ",-1)),e("div",Io,[e("div",Go,[t[16]||(t[16]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Nouvelles fonctionnalit√©s "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," D√©couvrez les nouvelles fonctionnalit√©s et am√©liorations ")],-1)),e("button",{onClick:t[3]||(t[3]=r=>s.toggleNotification("new_features")),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.notifications.new_features?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.notifications.new_features?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.notifications.new_features?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Oo,[t[17]||(t[17]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Maintenance syst√®me "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Soyez inform√© des maintenances programm√©es ")],-1)),e("button",{onClick:t[4]||(t[4]=r=>s.toggleNotification("maintenance")),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.notifications.maintenance?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.notifications.maintenance?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.notifications.maintenance?"translate-x-5":"translate-x-0"])},null,2)],6)])])]),e("div",null,[t[21]||(t[21]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-4"}," Marketing et communications ",-1)),e("div",Jo,[e("div",Yo,[t[19]||(t[19]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Newsletter "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez notre newsletter avec les derni√®res actualit√©s ")],-1)),e("button",{onClick:t[5]||(t[5]=r=>s.toggleNotification("newsletter")),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.notifications.newsletter?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.notifications.newsletter?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.notifications.newsletter?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Qo,[t[20]||(t[20]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Offres sp√©ciales "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," D√©couvrez nos offres et promotions exclusives ")],-1)),e("button",{onClick:t[6]||(t[6]=r=>s.toggleNotification("special_offers")),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.notifications.special_offers?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.notifications.special_offers?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.notifications.special_offers?"translate-x-5":"translate-x-0"])},null,2)],6)])])])])])]),e("div",Wo,[e("div",Zo,[t[25]||(t[25]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Notifications push ",-1)),e("div",Ko,[e("div",Xo,[t[23]||(t[23]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Notifications push du navigateur "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez des notifications instantan√©es dans votre navigateur ")],-1)),e("div",ea,[e("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.pushNotificationsSupported?"text-white":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"]),style:U(s.pushNotificationsSupported?"background-color: #ffcc33;":"")},d(s.pushNotificationsSupported?"Support√©":"Non support√©"),7),s.pushNotificationsSupported?(o(),a("button",{key:0,onClick:t[7]||(t[7]=(...r)=>s.togglePushNotifications&&s.togglePushNotifications(...r)),class:g(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",s.pushNotificationsEnabled?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(s.pushNotificationsEnabled?"background-color: #003366;":"")},[e("span",{class:g(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.pushNotificationsEnabled?"translate-x-5":"translate-x-0"])},null,2)],6)):y("",!0)])]),s.pushNotificationsSupported?y("",!0):(o(),a("div",ta,[...t[24]||(t[24]=[V('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> Notifications push non support√©es </h3><div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300"><p>Votre navigateur ne supporte pas les notifications push ou elles sont d√©sactiv√©es.</p></div></div></div>',1)])]))])])]),e("div",sa,[e("div",ra,[t[27]||(t[27]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Fr√©quence des notifications ",-1)),e("div",oa,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Fr√©quence des e-mails ",-1)),e("div",aa,[(o(!0),a(H,null,T(s.emailFrequencies,r=>(o(),a("label",{key:r.value,class:"flex items-center"},[v(e("input",{id:r.value,"onUpdate:modelValue":t[8]||(t[8]=n=>s.selectedEmailFrequency=n),value:r.value,type:"radio",class:"h-4 w-4 border-gray-300 dark:border-gray-600",style:{"accent-color":"#003366"}},null,8,na),[[te,s.selectedEmailFrequency]]),e("label",{for:r.value,class:"ml-3 text-sm text-gray-700 dark:text-gray-300"},d(r.label),9,la)]))),128))])])])])]),e("div",ia,[e("button",{onClick:t[9]||(t[9]=(...r)=>s.saveNotifications&&s.saveNotifications(...r)),disabled:s.saving,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366",focus:"ring-color: #003366"},onMouseenter:t[10]||(t[10]=r=>r.target.style.backgroundColor="#ffcc33"),onMouseleave:t[11]||(t[11]=r=>r.target.style.backgroundColor="#003366")},[s.saving?(o(),a("div",ca)):y("",!0),b(" "+d(s.saving?"Sauvegarde...":"Sauvegarder les pr√©f√©rences"),1)],40,da)])])}const ma=A(Vo,[["render",ua]]),ga={name:"About",setup(){return{currentYear:R(()=>new Date().getFullYear()),formatDate:u=>u.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}}},fa={class:"space-y-6"},xa={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6"},pa={class:"text-center"},ya={class:"text-sm text-gray-500 dark:text-gray-400"};function va(i,t,u,s,l,c){return o(),a("div",fa,[t[1]||(t[1]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">√Ä propos</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> Votre portail d&#39;acc√®s √† l&#39;√©cosyst√®me Herime </p></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> Qu&#39;est-ce qu&#39;un Compte Herime ? </h3><div class="space-y-4"><p class="text-gray-700 dark:text-gray-300 leading-relaxed"> Votre <strong>Compte Herime</strong> est votre cl√© d&#39;acc√®s unique √† l&#39;ensemble de l&#39;√©cosyst√®me Herime. Il s&#39;agit de votre identit√© num√©rique centralis√©e qui vous permet de naviguer facilement entre tous les services et plateformes de l&#39;√©cosyst√®me Herime. </p><div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"><h4 class="text-md font-semibold text-blue-900 dark:text-blue-100 mb-2"> üåê Acc√®s √† l&#39;√©cosyst√®me complet </h4><p class="text-blue-800 dark:text-blue-200 text-sm"> Avec un seul compte, acc√©dez √† tous les services Herime : plateformes de formation, outils de d√©veloppement, communaut√©s, ressources, et bien plus encore. </p></div><div class="space-y-3"><h4 class="text-md font-semibold text-gray-900 dark:text-white">Avantages de votre Compte Herime :</h4><ul class="space-y-2"><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">Authentification unique (SSO) pour tous les services Herime</span></li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">Synchronisation de vos donn√©es et pr√©f√©rences</span></li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">Gestion centralis√©e de votre profil et de vos param√®tres</span></li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">S√©curit√© avanc√©e avec authentification √† deux facteurs</span></li></ul></div><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"><p class="text-yellow-800 dark:text-yellow-200 text-sm"><strong>En savoir plus sur Herime :</strong><a href="https://www.herime.com" target="_blank" rel="noopener noreferrer" class="underline hover:no-underline font-medium" style="color:#ffcc33;"> www.herime.com </a></p></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> √âquipe de d√©veloppement </h3><div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"><div class="flex items-center space-x-4"><div class="flex-shrink-0"><div class="h-12 w-12 rounded-full flex items-center justify-center" style="background-color:#ffcc33;"><span class="text-white font-medium text-lg">HM</span></div></div><div><h4 class="text-sm font-medium text-gray-900 dark:text-white">Heritier Mulume</h4><p class="text-sm text-gray-500 dark:text-gray-400">D√©veloppeur Full-Stack</p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> Fonctionnalit√©s principales </h3><div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div class="space-y-4"><h4 class="text-sm font-medium text-gray-900 dark:text-white">S√©curit√©</h4><ul class="space-y-2"><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Authentification s√©curis√©e </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Gestion des sessions </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Authentification √† deux facteurs </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Chiffrement des donn√©es </li></ul></div><div class="space-y-4"><h4 class="text-sm font-medium text-gray-900 dark:text-white">Interface utilisateur</h4><ul class="space-y-2"><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Mode sombre/clair </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Interface responsive </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Navigation intuitive </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Notifications personnalisables </li></ul></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> Contact et support </h3><div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div><h4 class="text-sm font-medium text-gray-900 dark:text-white mb-3">Support technique</h4><div class="space-y-2"><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">E-mail:</span><a href="mailto:contact@herime.com" class="hover:opacity-80" style="color:#ffcc33;"> contact@herime.com </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">T√©l√©phone:</span><a href="tel:+243824449218" class="hover:opacity-80" style="color:#ffcc33;"> +243 824 449 218 </a></p></div></div><div><h4 class="text-sm font-medium text-gray-900 dark:text-white mb-3">R√©seaux sociaux</h4><div class="space-y-2"><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">LinkedIn:</span><a href="https://www.linkedin.com/company/herime1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">Instagram:</span><a href="https://www.instagram.com/herime_1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime_1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">Facebook:</span><a href="https://www.facebook.com/herime1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">TikTok:</span><a href="https://www.tiktok.com/@herime_1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime_1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">YouTube:</span><a href="https://www.youtube.com/@herime_1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime_1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">WhatsApp:</span><a href="https://whatsapp.com/channel/0029VaU6teH3mFYCdZPjoT0h" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> Cha√Æne officielle </a></p></div></div></div></div></div>',5)),e("div",xa,[e("div",pa,[e("p",ya," ¬© "+d(s.currentYear)+" HERIME. Tous droits r√©serv√©s. ",1),t[0]||(t[0]=e("p",{class:"mt-2 text-xs text-gray-400 dark:text-gray-500"},[b(" D√©velopp√© par l'√©quipe "),e("a",{href:"https://facebook.com/heritier.mulume.001",target:"_blank",rel:"noopener noreferrer",class:"hover:opacity-80 font-medium",style:{color:"#ffcc33"}}," H√©ritier Mulume ")],-1))])])])}const ba=A(ga,[["render",va]]),ha={name:"AdminLogin",setup(){const i=q(),t=P(),u=f(!0),s=R(()=>t.authenticated),l=R(()=>t.user?.role==="super_user");return N(async()=>{await t.checkAuth(),u.value=!1,s.value&&l.value&&setTimeout(()=>{i.push("/admin/dashboard")},1e3)}),{loading:u,isAuthenticated:s,isSuperUser:l}}},wa={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"},ka={class:"max-w-md w-full space-y-8"},_a={key:0,class:"text-center"},Ca={key:1,class:"text-center"},Ma={class:"mt-6"},Sa={key:2,class:"text-center"},za={class:"mt-6"},ja={key:3,class:"text-center"};function Aa(i,t,u,s,l,c){const r=B("router-link");return o(),a("div",wa,[e("div",ka,[s.loading?(o(),a("div",_a,[...t[0]||(t[0]=[V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-yellow-400"><svg class="animate-spin h-8 w-8 text-gray-900" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> V√©rification des permissions... </h2>',2)])])):s.isAuthenticated?s.isSuperUser?(o(),a("div",ja,[...t[5]||(t[5]=[V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-400"><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> Redirection... </h2><p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400"> Acc√®s autoris√©, redirection vers le tableau de bord </p>',3)])])):(o(),a("div",Sa,[t[4]||(t[4]=V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-red-400"><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> Acc√®s refus√© </h2><p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400"> Seuls les super utilisateurs peuvent acc√©der √† l&#39;administration </p>',3)),e("div",za,[C(r,{to:"/",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:M(()=>[...t[3]||(t[3]=[b(" Retour √† l'accueil ",-1)])]),_:1})])])):(o(),a("div",Ca,[t[2]||(t[2]=V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-red-400"><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> Acc√®s refus√© </h2><p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400"> Vous devez √™tre connect√© pour acc√©der √† l&#39;administration </p>',3)),e("div",Ma,[C(r,{to:"/login",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:M(()=>[...t[1]||(t[1]=[b(" Se connecter ",-1)])]),_:1})])]))])])}const Ea=A(ha,[["render",Aa]]),La={name:"AdminDashboard",setup(){const i=q(),t=P(),u=f(!0),s=f(null),l=f(""),c=R(()=>t.user),r=async()=>{try{const n=await E.get("/admin/dashboard");n.data.success&&(s.value=n.data.data.stats)}catch(n){console.error("Error fetching dashboard data:",n),l.value="Erreur lors du chargement des donn√©es"}finally{u.value=!1}};return N(()=>{if(!c.value||c.value.role!=="super_user"){i.push("/");return}r()}),{loading:u,stats:s,error:l,user:c}}},Ua={class:"space-y-6"},Pa={class:"bg-white dark:bg-gray-800 shadow"},$a={class:"flex space-x-8"},Va={key:0,class:"flex justify-center items-center h-64"},Da={key:1},Ba={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8"},Ra={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Na={class:"p-5"},qa={class:"flex items-center"},Fa={class:"ml-5 w-0 flex-1"},Ha={class:"text-lg font-medium text-gray-900 dark:text-white"},Ta={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Ia={class:"p-5"},Ga={class:"flex items-center"},Oa={class:"ml-5 w-0 flex-1"},Ja={class:"text-lg font-medium text-gray-900 dark:text-white"},Ya={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Qa={class:"p-5"},Wa={class:"flex items-center"},Za={class:"ml-5 w-0 flex-1"},Ka={class:"text-lg font-medium text-gray-900 dark:text-white"},Xa={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},en={class:"p-5"},tn={class:"flex items-center"},sn={class:"ml-5 w-0 flex-1"},rn={class:"text-lg font-medium text-gray-900 dark:text-white"},on={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},an={class:"px-4 py-5 sm:p-6"},nn={class:"text-sm text-gray-500 dark:text-gray-400"},ln={class:"mt-8"},dn={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"};function cn(i,t,u,s,l,c){const r=B("router-link");return o(),a("div",Ua,[e("nav",Pa,[e("div",$a,[C(r,{to:"/admin/dashboard",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[0]||(t[0]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/users",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[1]||(t[1]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/sessions",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[2]||(t[2]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/settings",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[3]||(t[3]=[b(" Param√®tres ",-1)])]),_:1},8,["class"])])]),s.loading?(o(),a("div",Va,[...t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):(o(),a("div",Da,[e("div",Ba,[e("div",Ra,[e("div",Na,[e("div",qa,[t[6]||(t[6]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),e("div",Fa,[e("dl",null,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Total Utilisateurs ",-1)),e("dd",Ha,d(s.stats?.total_users||0),1)])])])])]),e("div",Ta,[e("div",Ia,[e("div",Ga,[t[8]||(t[8]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Oa,[e("dl",null,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Utilisateurs Actifs ",-1)),e("dd",Ja,d(s.stats?.active_users||0),1)])])])])]),e("div",Ya,[e("div",Qa,[e("div",Wa,[t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Za,[e("dl",null,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Sessions Actives ",-1)),e("dd",Ka,d(s.stats?.active_sessions||0),1)])])])])]),e("div",Xa,[e("div",en,[e("div",tn,[t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),e("div",sn,[e("dl",null,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Super Utilisateurs ",-1)),e("dd",rn,d(s.stats?.super_users||0),1)])])])])])]),e("div",on,[e("div",an,[t[13]||(t[13]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Activit√© R√©cente ",-1)),e("div",nn,[e("p",null,"Nouveaux utilisateurs cette semaine : "+d(s.stats?.recent_users||0),1),e("p",null,"Total des sessions : "+d(s.stats?.total_sessions||0),1)])])]),e("div",ln,[t[17]||(t[17]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Actions Rapides ",-1)),e("div",dn,[C(r,{to:"/admin/users",class:"relative group bg-white dark:bg-gray-800 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-yellow-500 rounded-lg shadow hover:shadow-md transition-shadow"},{default:M(()=>[...t[14]||(t[14]=[e("div",null,[e("span",{class:"rounded-lg inline-flex p-3 bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-400 ring-4 ring-white dark:ring-gray-800"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])],-1),e("div",{class:"mt-8"},[e("h3",{class:"text-lg font-medium text-white"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),b(" G√©rer les Utilisateurs ")]),e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Voir, modifier et g√©rer tous les utilisateurs du syst√®me ")],-1)])]),_:1}),C(r,{to:"/admin/sessions",class:"relative group bg-white dark:bg-gray-800 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-yellow-500 rounded-lg shadow hover:shadow-md transition-shadow"},{default:M(()=>[...t[15]||(t[15]=[e("div",null,[e("span",{class:"rounded-lg inline-flex p-3 bg-green-50 dark:bg-green-900 text-green-600 dark:text-green-400 ring-4 ring-white dark:ring-gray-800"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])])],-1),e("div",{class:"mt-8"},[e("h3",{class:"text-lg font-medium text-white"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),b(" G√©rer les Sessions ")]),e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Surveiller et g√©rer les sessions utilisateur actives ")],-1)])]),_:1}),C(r,{to:"/admin/settings",class:"relative group bg-white dark:bg-gray-800 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-yellow-500 rounded-lg shadow hover:shadow-md transition-shadow"},{default:M(()=>[...t[16]||(t[16]=[e("div",null,[e("span",{class:"rounded-lg inline-flex p-3 bg-yellow-50 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400 ring-4 ring-white dark:ring-gray-800"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])])],-1),e("div",{class:"mt-8"},[e("h3",{class:"text-lg font-medium text-white"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),b(" Param√®tres Syst√®me ")]),e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Configurer les param√®tres globaux du syst√®me ")],-1)])]),_:1})])])]))])}const un=A(La,[["render",cn]]),mn={name:"AdminUsers",setup(){const i=q(),t=P(),u=f(!0),s=f([]),l=f(null),c=f(""),r=R(()=>t.user),n=F({search:"",role:"",status:""});let p=null;const m=()=>{clearTimeout(p),p=setTimeout(()=>{x()},500)},x=async(z=1)=>{try{console.log("=== FETCH USERS START ==="),u.value=!0;const j={page:z,per_page:15,...n};console.log("Fetching users with params:",j);const S=await E.get("/admin/users",{params:j});console.log("Users response:",S.status,S.data),console.log("Checking response.data.success:",S.data.success),console.log("Response.data structure:",Object.keys(S.data)),console.log("Response.data.data structure:",Object.keys(S.data.data||{})),S.data.success?(s.value=S.data.data.data,console.log("Users loaded:",s.value.length,"users"),console.log("Users content:",s.value),l.value={current_page:S.data.data.current_page,last_page:S.data.data.last_page,from:S.data.data.from,to:S.data.data.to,total:S.data.data.total,prev_page_url:S.data.data.prev_page_url,next_page_url:S.data.data.next_page_url},console.log("Pagination:",l.value)):(console.error("API returned success=false:",S.data),c.value="R√©ponse inattendue du serveur")}catch(j){console.error("=== FETCH USERS ERROR ==="),console.error("Error fetching users:",j),console.error("Error response:",j.response?.data),console.error("Error status:",j.response?.status),console.error("Error headers:",j.response?.headers),c.value="Erreur lors du chargement des utilisateurs"}finally{u.value=!1,console.log("=== FETCH USERS END ===")}},w=z=>{z>=1&&z<=l.value.last_page&&x(z)},h=R(()=>{if(!l.value)return[];const z=l.value.current_page,j=l.value.last_page,S=[],L=Math.max(1,z-2),Z=Math.min(j,z+2);for(let O=L;O<=Z;O++)S.push(O);return S}),k=async z=>{try{(await E.put(`/admin/users/${z.id}/status`,{is_active:!z.is_active})).data.success&&(z.is_active=!z.is_active)}catch(j){console.error("Error toggling user status:",j),c.value="Erreur lors de la modification du statut"}},$=async z=>{if(confirm(`√ätes-vous s√ªr de vouloir supprimer l'utilisateur ${z.name} ?`))try{(await E.delete(`/admin/users/${z.id}`)).data.success&&await x(l.value.current_page)}catch(j){console.error("Error deleting user:",j),c.value="Erreur lors de la suppression de l'utilisateur"}};return N(()=>{if(!r.value||r.value.role!=="super_user"){i.push("/");return}x()}),{loading:u,users:s,pagination:l,error:c,user:r,filters:n,debouncedSearch:m,fetchUsers:x,changePage:w,visiblePages:h,toggleUserStatus:k,deleteUser:$}}},gn={class:"space-y-6"},fn={class:"bg-white dark:bg-gray-800 shadow"},xn={class:"flex space-x-8"},pn={class:"bg-white dark:bg-gray-800 shadow rounded-lg mb-6"},yn={class:"px-4 py-5 sm:p-6"},vn={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},bn={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md"},hn={key:0,class:"flex justify-center items-center h-64"},wn={key:1,class:"px-4 py-5 sm:p-6"},kn={class:"rounded-md bg-red-50 dark:bg-red-900 p-4"},_n={class:"text-sm text-red-800 dark:text-red-200"},Cn={key:2,class:"px-4 py-5 sm:p-6 text-center"},Mn={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700"},Sn={class:"flex items-center justify-between"},zn={class:"flex items-center"},jn={class:"flex-shrink-0 h-10 w-10"},An={class:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},En={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ln={class:"ml-4"},Un={class:"text-sm font-medium text-gray-900 dark:text-white"},Pn={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},$n={key:1,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Vn={class:"text-sm text-gray-500 dark:text-gray-400"},Dn={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Bn={class:"flex items-center space-x-2"},Rn={class:"flex space-x-1"},Nn=["onClick","disabled"],qn=["onClick"],Fn={key:4,class:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6"},Hn={class:"flex-1 flex justify-between sm:hidden"},Tn=["disabled"],In=["disabled"],Gn={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},On={class:"text-sm text-gray-700 dark:text-gray-300"},Jn={class:"font-medium"},Yn={class:"font-medium"},Qn={class:"font-medium"},Wn={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Zn=["onClick"];function Kn(i,t,u,s,l,c){const r=B("router-link");return o(),a("div",gn,[e("nav",fn,[e("div",xn,[C(r,{to:"/admin/dashboard",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[8]||(t[8]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/users",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[9]||(t[9]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/sessions",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[10]||(t[10]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/settings",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[11]||(t[11]=[b(" Param√®tres ",-1)])]),_:1},8,["class"])])]),e("div",pn,[e("div",yn,[e("div",vn,[e("div",null,[t[12]||(t[12]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Rechercher ",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.filters.search=n),type:"text",id:"search",placeholder:"Nom, email, entreprise...",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm",onInput:t[1]||(t[1]=(...n)=>s.debouncedSearch&&s.debouncedSearch(...n))},null,544),[[_,s.filters.search]])]),e("div",null,[t[14]||(t[14]=e("label",{for:"role",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," R√¥le ",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>s.filters.role=n),id:"role",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm",onChange:t[3]||(t[3]=(...n)=>s.fetchUsers&&s.fetchUsers(...n))},[...t[13]||(t[13]=[e("option",{value:""},"Tous les r√¥les",-1),e("option",{value:"user"},"Utilisateur",-1),e("option",{value:"admin"},"Administrateur",-1),e("option",{value:"super_user"},"Super Utilisateur",-1)])],544),[[Q,s.filters.role]])]),e("div",null,[t[16]||(t[16]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Statut ",-1)),v(e("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>s.filters.status=n),id:"status",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm",onChange:t[5]||(t[5]=(...n)=>s.fetchUsers&&s.fetchUsers(...n))},[...t[15]||(t[15]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1)])],544),[[Q,s.filters.status]])])])])]),e("div",bn,[s.loading?(o(),a("div",hn,[...t[17]||(t[17]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):s.error?(o(),a("div",wn,[e("div",kn,[e("div",_n,d(s.error),1)])])):s.users.length===0?(o(),a("div",Cn,[...t[18]||(t[18]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"Aucun utilisateur trouv√©",-1)])])):(o(),a("ul",Mn,[(o(!0),a(H,null,T(s.users,n=>(o(),a("li",{key:n.id,class:"px-4 py-4 sm:px-6"},[e("div",Sn,[e("div",zn,[e("div",jn,[e("div",An,[e("span",En,d(n.name.charAt(0).toUpperCase()),1)])]),e("div",Ln,[e("div",Un,[b(d(n.name)+" ",1),n.role==="super_user"?(o(),a("span",Pn," Super User ")):n.role==="admin"?(o(),a("span",$n," Admin ")):y("",!0)]),e("div",Vn,d(n.email),1),n.company?(o(),a("div",Dn,d(n.company)+" - "+d(n.position),1)):y("",!0)])]),e("div",Bn,[e("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},d(n.is_active?"Actif":"Inactif"),3),e("div",Rn,[e("button",{onClick:p=>s.toggleUserStatus(n),disabled:n.role==="super_user",class:"text-sm text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50 disabled:cursor-not-allowed"},d(n.is_active?"D√©sactiver":"Activer"),9,Nn),n.role!=="super_user"?(o(),a("button",{key:0,onClick:p=>s.deleteUser(n),class:"text-sm text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Supprimer ",8,qn)):y("",!0)])])])]))),128))])),s.pagination&&s.pagination.last_page>1?(o(),a("div",Fn,[e("div",Hn,[e("button",{onClick:t[6]||(t[6]=n=>s.changePage(s.pagination.current_page-1)),disabled:!s.pagination.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Pr√©c√©dent ",8,Tn),e("button",{onClick:t[7]||(t[7]=n=>s.changePage(s.pagination.current_page+1)),disabled:!s.pagination.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,In)]),e("div",Gn,[e("div",null,[e("p",On,[t[19]||(t[19]=b(" Affichage de ",-1)),e("span",Jn,d(s.pagination.from),1),t[20]||(t[20]=b(" √† ",-1)),e("span",Yn,d(s.pagination.to),1),t[21]||(t[21]=b(" sur ",-1)),e("span",Qn,d(s.pagination.total),1),t[22]||(t[22]=b(" r√©sultats ",-1))])]),e("div",null,[e("nav",Wn,[(o(!0),a(H,null,T(s.visiblePages,n=>(o(),a("button",{key:n,onClick:p=>s.changePage(n),class:g(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",n===s.pagination.current_page?"z-10 bg-yellow-50 border-yellow-500 text-yellow-600 dark:bg-yellow-900 dark:border-yellow-400 dark:text-yellow-200":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},d(n),11,Zn))),128))])])])])):y("",!0)])])}const Xn=A(mn,[["render",Kn]]),el={name:"AdminSessions",setup(){const i=q(),t=P(),u=f(!0),s=f([]),l=f(""),c=R(()=>t.user),r=async()=>{try{u.value=!0;const m=await E.get("/admin/sessions");m.data.success&&(s.value=m.data.data.data||m.data.data)}catch(m){console.error("Error fetching sessions:",m),l.value="Erreur lors du chargement des sessions"}finally{u.value=!1}},n=async m=>{if(confirm("√ätes-vous s√ªr de vouloir r√©voquer cette session ?"))try{(await E.delete(`/admin/sessions/${m}`)).data.success&&await r()}catch(x){console.error("Error revoking session:",x),l.value="Erreur lors de la r√©vocation de la session"}},p=m=>m?new Date(m).toLocaleString("fr-FR"):"Jamais";return N(()=>{if(!c.value||c.value.role!=="super_user"){i.push("/");return}r()}),{loading:u,sessions:s,error:l,user:c,fetchSessions:r,revokeSession:n,formatDate:p}}},tl={class:"space-y-6"},sl={class:"bg-white dark:bg-gray-800 shadow"},rl={class:"flex space-x-8"},ol={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md"},al={key:0,class:"flex justify-center items-center h-64"},nl={key:1,class:"px-4 py-5 sm:p-6"},ll={class:"rounded-md bg-red-50 dark:bg-red-900 p-4"},il={class:"text-sm text-red-800 dark:text-red-200"},dl={key:2,class:"px-4 py-5 sm:p-6 text-center"},cl={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700"},ul={class:"flex items-center justify-between"},ml={class:"flex items-center"},gl={class:"ml-4"},fl={class:"text-sm font-medium text-gray-900 dark:text-white"},xl={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},pl={class:"text-sm text-gray-500 dark:text-gray-400"},yl={class:"text-sm text-gray-500 dark:text-gray-400"},vl={class:"text-sm text-gray-500 dark:text-gray-400"},bl={class:"flex items-center space-x-2"},hl={class:"text-xs text-gray-500 dark:text-gray-400"},wl=["onClick"];function kl(i,t,u,s,l,c){const r=B("router-link");return o(),a("div",tl,[e("nav",sl,[e("div",rl,[C(r,{to:"/admin/dashboard",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[0]||(t[0]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/users",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[1]||(t[1]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/sessions",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[2]||(t[2]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/settings",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[3]||(t[3]=[b(" Param√®tres ",-1)])]),_:1},8,["class"])])]),e("div",ol,[s.loading?(o(),a("div",al,[...t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):s.error?(o(),a("div",nl,[e("div",ll,[e("div",il,d(s.error),1)])])):s.sessions.length===0?(o(),a("div",dl,[...t[5]||(t[5]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"Aucune session trouv√©e",-1)])])):(o(),a("ul",cl,[(o(!0),a(H,null,T(s.sessions,n=>(o(),a("li",{key:n.id,class:"px-4 py-4 sm:px-6"},[e("div",ul,[e("div",ml,[e("div",gl,[e("div",fl,[b(d(n.user?.name||"Utilisateur inconnu")+" ",1),n.is_current?(o(),a("span",xl," Active ")):y("",!0)]),e("div",pl,d(n.user?.email||""),1),e("div",yl,d(n.device_name)+" - "+d(n.platform)+" - "+d(n.browser),1),e("div",vl,d(n.ip_address),1)])]),e("div",bl,[e("span",hl,d(s.formatDate(n.created_at)),1),e("button",{onClick:p=>s.revokeSession(n.id),class:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-xs font-medium"}," R√©voquer ",8,wl)])])]))),128))]))])])}const _l=A(el,[["render",kl]]),Cl={name:"AdminSettings",setup(){const i=q(),t=P(),u=f(!0),s=f(""),l=f(""),c=R(()=>t.user),r=F({app_name:"",app_url:"",maintenance_mode:!1,registration_enabled:!0,max_sessions_per_user:5,session_timeout:24}),n=async()=>{try{u.value=!0;const m=await E.get("/admin/settings");m.data.success&&Object.assign(r,m.data.data)}catch(m){console.error("Error fetching settings:",m),s.value="Erreur lors du chargement des param√®tres"}finally{u.value=!1}},p=async()=>{try{s.value="",l.value="",(await E.put("/admin/settings",r)).data.success&&(l.value="Param√®tres mis √† jour avec succ√®s",setTimeout(()=>{l.value=""},3e3))}catch(m){console.error("Error updating settings:",m),s.value="Erreur lors de la mise √† jour des param√®tres"}};return N(()=>{if(!c.value||c.value.role!=="super_user"){i.push("/");return}n()}),{loading:u,settings:r,error:s,successMessage:l,user:c,fetchSettings:n,updateSettings:p}}},Ml={class:"space-y-6"},Sl={class:"bg-white dark:bg-gray-800 shadow"},zl={class:"flex space-x-8"},jl={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg"},Al={class:"px-4 py-5 sm:p-6"},El={key:0,class:"flex justify-center items-center h-64"},Ll={key:1,class:"rounded-md bg-red-50 dark:bg-red-900 p-4 mb-4"},Ul={class:"text-sm text-red-800 dark:text-red-200"},Pl={key:2,class:"space-y-6"},$l={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Vl={class:"flex items-center"},Dl={class:"flex items-center"},Bl={key:0,class:"rounded-md bg-green-50 dark:bg-green-900 p-4"},Rl={class:"text-sm text-green-800 dark:text-green-200"};function Nl(i,t,u,s,l,c){const r=B("router-link");return o(),a("div",Ml,[e("nav",Sl,[e("div",zl,[C(r,{to:"/admin/dashboard",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[10]||(t[10]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/users",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[11]||(t[11]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/sessions",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[12]||(t[12]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(r,{to:"/admin/settings",class:g(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[13]||(t[13]=[b(" Param√®tres ",-1)])]),_:1},8,["class"])])]),e("div",jl,[e("div",Al,[t[21]||(t[21]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Param√®tres Syst√®me ",-1)),s.loading?(o(),a("div",El,[...t[14]||(t[14]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):s.error?(o(),a("div",Ll,[e("div",Ul,d(s.error),1)])):(o(),a("div",Pl,[e("div",$l,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nom de l'application ",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.settings.app_name=n),type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,512),[[_,s.settings.app_name]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," URL de l'application ",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.settings.app_url=n),type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,512),[[_,s.settings.app_url]])]),e("div",null,[e("label",Vl,[v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>s.settings.maintenance_mode=n),type:"checkbox",onChange:t[3]||(t[3]=(...n)=>s.updateSettings&&s.updateSettings(...n)),class:"rounded border-gray-300 text-yellow-600 shadow-sm focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50"},null,544),[[G,s.settings.maintenance_mode]]),t[17]||(t[17]=e("span",{class:"ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mode maintenance ",-1))])]),e("div",null,[e("label",Dl,[v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>s.settings.registration_enabled=n),type:"checkbox",onChange:t[5]||(t[5]=(...n)=>s.updateSettings&&s.updateSettings(...n)),class:"rounded border-gray-300 text-yellow-600 shadow-sm focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50"},null,544),[[G,s.settings.registration_enabled]]),t[18]||(t[18]=e("span",{class:"ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Inscription activ√©e ",-1))])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Sessions max par utilisateur ",-1)),v(e("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>s.settings.max_sessions_per_user=n),type:"number",min:"1",max:"10",onChange:t[7]||(t[7]=(...n)=>s.updateSettings&&s.updateSettings(...n)),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,544),[[_,s.settings.max_sessions_per_user,void 0,{number:!0}]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," D√©lai d'expiration (heures) ",-1)),v(e("input",{"onUpdate:modelValue":t[8]||(t[8]=n=>s.settings.session_timeout=n),type:"number",min:"1",max:"168",onChange:t[9]||(t[9]=(...n)=>s.updateSettings&&s.updateSettings(...n)),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,544),[[_,s.settings.session_timeout,void 0,{number:!0}]])])]),s.successMessage?(o(),a("div",Bl,[e("div",Rl,d(s.successMessage),1)])):y("",!0)]))])])])}const ql=A(Cl,[["render",Nl]]),Fl=[{path:"/",name:"Home",redirect:"/login"},{path:"/login",name:"Login",component:W,meta:{requiresGuest:!0}},{path:"/register",name:"Register",component:W,meta:{requiresGuest:!0}},{path:"/dashboard",name:"Dashboard",component:jr,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:Yr,meta:{requiresAuth:!0}},{path:"/security",name:"Security",component:$o,meta:{requiresAuth:!0}},{path:"/notifications",name:"Notifications",component:ma,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:ba,meta:{requiresAuth:!0}},{path:"/admin/login",name:"AdminLogin",component:Ea,meta:{requiresAuth:!0}},{path:"/admin/dashboard",name:"AdminDashboard",component:un,meta:{requiresAuth:!0,requiresSuperUser:!0}},{path:"/admin/users",name:"AdminUsers",component:Xn,meta:{requiresAuth:!0,requiresSuperUser:!0}},{path:"/admin/sessions",name:"AdminSessions",component:_l,meta:{requiresAuth:!0,requiresSuperUser:!0}},{path:"/admin/settings",name:"AdminSettings",component:ql,meta:{requiresAuth:!0,requiresSuperUser:!0}}],Hl=X({history:ee(),routes:Fl});Hl.beforeEach(async(i,t,u)=>{console.log("Router guard: navigating to",i.path);const s=P();await s.checkAuth();const l=s.authenticated,c=s.user;if(i.path==="/"){u(l?"/dashboard":"/login");return}if(i.meta.requiresAuth){if(!l){console.log("User not authenticated, redirecting to login"),u("/login");return}if(i.meta.requiresSuperUser&&c?.role!=="super_user"){console.log("User is not a super user, redirecting to dashboard"),u("/dashboard");return}}if(i.meta.requiresGuest&&l){console.log("User is authenticated, redirecting to dashboard"),u("/dashboard");return}u()});export{Hl as default};
