import{_ as A,b as N,u as $,a as K,c as X,d as ee}from"./_plugin-vue_export-helper-2pmyU6hP.js";import{withModifiers as D,vModelText as _,vModelDynamic as J,vModelCheckbox as G,vModelRadio as te,vModelSelect as Q}from"./vue.runtime.esm-bundler-DsD8H2A-.js";import{a as F,r as f,q as a,E as o,v as e,x as p,L as v,C as m,J as d,G as b,D as B,z as I,H as q,d as R,F as H,K as T,B as U,M as V,y as C,A as M,f as Y}from"./runtime-core.esm-bundler-D1ARzwY8.js";import E from"./index-DH5hsvb4.js";import"./pinia-D036F5w6.js";const re={name:"Login",emits:["switch-to-register"],setup(i,{emit:t}){const u=N(),r=$(),l=F({email:"",password:"",remember:!1}),c=f({}),s=f(""),n=f(!1),y=f(!1);return{form:l,errors:c,error:s,loading:n,showPassword:y,handleLogin:async()=>{console.log("Login attempt started",l),n.value=!0,c.value={},s.value="";try{console.log("Calling authStore.login...");const x=await r.login(l);console.log("Login successful:",x),u.push("/dashboard")}catch(x){console.error("Login error:",x),x.response?.data?.errors?c.value=x.response.data.errors:x.response?.data?.message?s.value=x.response.data.message:x.response?.status===401?s.value="Identifiants incorrects. Veuillez vérifier votre email et mot de passe.":x.response?.status===404?s.value="Service non disponible. Veuillez réessayer plus tard.":s.value=x.message||"Une erreur est survenue lors de la connexion."}finally{n.value=!1}}}}},se={class:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 auth-page-background"},oe={class:"max-w-md w-full"},ae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 space-y-6"},ne={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},le={class:"relative"},ie=["type"],de={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ue={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},me={class:"flex items-center justify-between"},ge={class:"flex items-center"},fe={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},xe={class:"flex"},pe={class:"ml-3"},ye={class:"text-sm text-red-800 dark:text-red-200"},ve=["disabled"],be={key:0,class:"flex items-center justify-center"},he={key:1},we={class:"text-center"},ke={class:"text-sm text-gray-600 dark:text-gray-400"};function _e(i,t,u,r,l,c){return o(),a("div",se,[e("div",oe,[t[18]||(t[18]=e("div",{class:"text-center mb-8"},[e("img",{src:"/logo.png",alt:"HERIME Logo",class:"h-12 w-auto mx-auto mb-4"})],-1)),e("div",ae,[t[17]||(t[17]=e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Bienvenue "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Connectez-vous à votre compte HERIME ")],-1)),e("form",{class:"space-y-4",onSubmit:t[6]||(t[6]=D((...s)=>r.handleLogin&&r.handleLogin(...s),["prevent"]))},[e("div",null,[t[8]||(t[8]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Adresse email ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=s=>r.form.email=s),type:"email",required:"",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":r.errors.email}]),placeholder:"votre@email.com"},null,2),[[_,r.form.email]]),r.errors.email?(o(),a("p",ne,d(r.errors.email[0]),1)):p("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Mot de passe ",-1)),e("div",le,[v(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=s=>r.form.password=s),type:r.showPassword?"text":"password",required:"",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white pr-12",{"border-red-500 focus:ring-red-500":r.errors.password}]),placeholder:"Votre mot de passe"},null,10,ie),[[J,r.form.password]]),e("button",{type:"button",onClick:t[2]||(t[2]=s=>r.showPassword=!r.showPassword),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[r.showPassword?(o(),a("svg",ce,[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(o(),a("svg",de,[...t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),r.errors.password?(o(),a("p",ue,d(r.errors.password[0]),1)):p("",!0)]),e("div",me,[e("div",ge,[v(e("input",{id:"remember-me","onUpdate:modelValue":t[3]||(t[3]=s=>r.form.remember=s),type:"checkbox",class:"h-4 w-4 border-gray-300 rounded focus:ring-2 focus:ring-blue-500",style:{"accent-color":"#003366"}},null,512),[[G,r.form.remember]]),t[12]||(t[12]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Se souvenir de moi ",-1))]),t[13]||(t[13]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium hover:opacity-80",style:{color:"#ffcc33"}}," Mot de passe oublié ? ")],-1))]),r.error?(o(),a("div",fe,[e("div",xe,[t[14]||(t[14]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",pe,[e("p",ye,d(r.error),1)])])])):p("",!0),e("button",{type:"submit",disabled:r.loading,class:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 text-white font-medium rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366"},onMouseenter:t[4]||(t[4]=s=>s.target.style.backgroundColor="#ffcc33"),onMouseleave:t[5]||(t[5]=s=>s.target.style.backgroundColor="#003366")},[r.loading?(o(),a("span",be,[...t[15]||(t[15]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"},null,-1),b(" Connexion... ",-1)])])):(o(),a("span",he,"Se connecter"))],40,ve)],32),e("div",we,[e("p",ke,[t[16]||(t[16]=b(" Vous n'avez pas de compte ? ",-1)),e("button",{onClick:t[7]||(t[7]=s=>i.$emit("switch-to-register")),class:"font-medium hover:opacity-80 ml-1",style:{color:"#ffcc33"}}," Créer un compte ")])])])])])}const Ce=A(re,[["render",_e]]),Me={name:"Register",emits:["switch-to-login"],setup(i,{emit:t}){const u=N(),r=$(),l=F({name:"",email:"",phone:"",company:"",position:"",password:"",password_confirmation:"",terms:!1}),c=f({}),s=f(""),n=f(!1),y=f(!1),g=f(!1);return{form:l,errors:c,error:s,loading:n,showPassword:y,showPasswordConfirmation:g,handleRegister:async()=>{n.value=!0,c.value={},s.value="";try{await r.register(l),u.push("/dashboard")}catch(w){console.error("Register error:",w),w.response?.data?.errors?c.value=w.response.data.errors:w.response?.data?.message?s.value=w.response.data.message:w.response?.status===422?s.value="Veuillez vérifier les informations saisies.":w.response?.status===409?s.value="Cette adresse email est déjà utilisée.":w.response?.status===404?s.value="Service non disponible. Veuillez réessayer plus tard.":s.value=w.message||"Une erreur est survenue lors de la création du compte."}finally{n.value=!1}}}}},Se={class:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 auth-page-background"},ze={class:"max-w-md w-full"},je={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 space-y-6"},Ae={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Ee={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Le={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Ue={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},$e={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Pe={class:"relative"},Ve=["type"],De={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Be={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},qe={class:"relative"},Ne=["type"],Fe={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},He={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Ie={class:"flex items-center"},Ge={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},Oe={class:"flex"},Je={class:"ml-3"},Ye={class:"text-sm text-red-800 dark:text-red-200"},Qe=["disabled"],We={key:0,class:"flex items-center justify-center"},Ze={key:1},Ke={class:"text-center"},Xe={class:"text-sm text-gray-600 dark:text-gray-400"};function et(i,t,u,r,l,c){return o(),a("div",Se,[e("div",ze,[t[30]||(t[30]=e("div",{class:"text-center mb-8"},[e("img",{src:"/logo.png",alt:"HERIME Logo",class:"h-12 w-auto mx-auto mb-4"})],-1)),e("div",je,[t[29]||(t[29]=e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Créer un compte "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Rejoignez l'écosystème HERIME ")],-1)),e("form",{class:"space-y-4",onSubmit:t[12]||(t[12]=D((...s)=>r.handleRegister&&r.handleRegister(...s),["prevent"]))},[e("div",null,[t[14]||(t[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Nom complet ",-1)),v(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>r.form.name=s),type:"text",required:"",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":r.errors.name}]),placeholder:"Votre nom complet"},null,2),[[_,r.form.name]]),r.errors.name?(o(),a("p",Ae,d(r.errors.name[0]),1)):p("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Adresse email ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=s=>r.form.email=s),type:"email",required:"",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":r.errors.email}]),placeholder:"mail@exemple.com"},null,2),[[_,r.form.email]]),r.errors.email?(o(),a("p",Ee,d(r.errors.email[0]),1)):p("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Téléphone (optionnel) ",-1)),v(e("input",{id:"phone","onUpdate:modelValue":t[2]||(t[2]=s=>r.form.phone=s),type:"tel",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":r.errors.phone}]),placeholder:"+243 000 000 000"},null,2),[[_,r.form.phone]]),r.errors.phone?(o(),a("p",Le,d(r.errors.phone[0]),1)):p("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{for:"company",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Entreprise (optionnel) ",-1)),v(e("input",{id:"company","onUpdate:modelValue":t[3]||(t[3]=s=>r.form.company=s),type:"text",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":r.errors.company}]),placeholder:"Nom de l'entreprise"},null,2),[[_,r.form.company]]),r.errors.company?(o(),a("p",Ue,d(r.errors.company[0]),1)):p("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Poste (optionnel) ",-1)),v(e("input",{id:"position","onUpdate:modelValue":t[4]||(t[4]=s=>r.form.position=s),type:"text",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white",{"border-red-500 focus:ring-red-500":r.errors.position}]),placeholder:"Votre poste"},null,2),[[_,r.form.position]]),r.errors.position?(o(),a("p",$e,d(r.errors.position[0]),1)):p("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Mot de passe ",-1)),e("div",Pe,[v(e("input",{id:"password","onUpdate:modelValue":t[5]||(t[5]=s=>r.form.password=s),type:r.showPassword?"text":"password",required:"",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white pr-12",{"border-red-500 focus:ring-red-500":r.errors.password}]),placeholder:"Votre mot de passe"},null,10,Ve),[[J,r.form.password]]),e("button",{type:"button",onClick:t[6]||(t[6]=s=>r.showPassword=!r.showPassword),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[r.showPassword?(o(),a("svg",Be,[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(o(),a("svg",De,[...t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),r.errors.password?(o(),a("p",Re,d(r.errors.password[0]),1)):p("",!0)]),e("div",null,[t[24]||(t[24]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirmer le mot de passe ",-1)),e("div",qe,[v(e("input",{id:"password_confirmation","onUpdate:modelValue":t[7]||(t[7]=s=>r.form.password_confirmation=s),type:r.showPasswordConfirmation?"text":"password",required:"",class:m(["w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 dark:bg-gray-700 dark:text-white pr-12",{"border-red-500 focus:ring-red-500":r.errors.password_confirmation}]),placeholder:"Confirmez votre mot de passe"},null,10,Ne),[[J,r.form.password_confirmation]]),e("button",{type:"button",onClick:t[8]||(t[8]=s=>r.showPasswordConfirmation=!r.showPasswordConfirmation),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[r.showPasswordConfirmation?(o(),a("svg",He,[...t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(o(),a("svg",Fe,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),r.errors.password_confirmation?(o(),a("p",Te,d(r.errors.password_confirmation[0]),1)):p("",!0)]),e("div",Ie,[v(e("input",{id:"terms","onUpdate:modelValue":t[9]||(t[9]=s=>r.form.terms=s),type:"checkbox",required:"",class:"h-4 w-4 border-gray-300 rounded focus:ring-2 focus:ring-blue-500",style:{"accent-color":"#003366"}},null,512),[[G,r.form.terms]]),t[25]||(t[25]=e("label",{for:"terms",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"},[b(" J'accepte les "),e("a",{href:"#",class:"hover:opacity-80",style:{color:"#ffcc33"}}," conditions d'utilisation "),b(" et la "),e("a",{href:"#",class:"hover:opacity-80",style:{color:"#ffcc33"}}," politique de confidentialité ")],-1))]),r.error?(o(),a("div",Ge,[e("div",Oe,[t[26]||(t[26]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",Je,[e("p",Ye,d(r.error),1)])])])):p("",!0),e("button",{type:"submit",disabled:r.loading,class:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 text-white font-medium rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366"},onMouseenter:t[10]||(t[10]=s=>s.target.style.backgroundColor="#ffcc33"),onMouseleave:t[11]||(t[11]=s=>s.target.style.backgroundColor="#003366")},[r.loading?(o(),a("span",We,[...t[27]||(t[27]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"},null,-1),b(" Création du compte... ",-1)])])):(o(),a("span",Ze,"Créer le compte"))],40,Qe)],32),e("div",Ke,[e("p",Xe,[t[28]||(t[28]=b(" Vous avez déjà un compte ? ",-1)),e("button",{onClick:t[13]||(t[13]=s=>i.$emit("switch-to-login")),class:"font-medium hover:opacity-80 ml-1",style:{color:"#ffcc33"}}," Se connecter ")])])])])])}const tt=A(Me,[["render",et]]),rt={name:"Auth",components:{Login:Ce,Register:tt},setup(){const i=N(),t=K(),u=$(),r=f("login");return q(async()=>{t.path==="/register"?r.value="register":r.value="login",await u.checkAuth()&&i.push("/dashboard")}),{currentView:r}}};function st(i,t,u,r,l,c){const s=B("Login"),n=B("Register");return o(),a("div",null,[r.currentView==="login"?(o(),I(s,{key:0,onSwitchToRegister:t[0]||(t[0]=y=>r.currentView="register")})):(o(),I(n,{key:1,onSwitchToLogin:t[1]||(t[1]=y=>r.currentView="login")}))])}const W=A(rt,[["render",st]]),ot={name:"ProfileModal",emits:["close"],setup(i,{emit:t}){const u=$(),r=F({name:"",phone:"",company:"",position:""}),l=f({}),c=f(""),s=f(!1),n=f(null),y=f(null),g=R(()=>u.user);return g.value&&(r.name=g.value.name||"",r.phone=g.value.phone||"",r.company=g.value.company||"",r.position=g.value.position||""),{user:g,form:r,errors:l,error:c,loading:s,previewUrl:n,handleAvatarChange:k=>{const P=k.target.files[0];P&&(y.value=P,n.value=URL.createObjectURL(P))},updateProfile:async()=>{s.value=!0,l.value={},c.value="";try{const k=new FormData;k.append("name",r.name),k.append("phone",r.phone),k.append("company",r.company),k.append("position",r.position),y.value&&k.append("avatar",y.value);const P=await E.put("/api/user/profile",k,{headers:{"Content-Type":"multipart/form-data"}});if(P.data.success)u.user=P.data.data.user,t("close");else throw new Error(P.data.message||"Update failed")}catch(k){k.response?.data?.errors?l.value=k.response.data.errors:c.value=k.message}finally{s.value=!1}},close:()=>{t("close")}}}},at={class:"mt-3"},nt={class:"flex items-center justify-between mb-4"},lt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},it={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},dt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ct={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},ut={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},mt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},gt={class:"mt-1 flex items-center space-x-4"},ft={key:0,class:"h-16 w-16 rounded-full overflow-hidden"},xt=["src","alt"],pt={key:1,class:"h-16 w-16 rounded-full flex items-center justify-center",style:{"background-color":"#ffcc33"}},yt={class:"h-10 w-10",style:{color:"#003366"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},bt={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},ht={class:"flex"},wt={class:"ml-3"},kt={class:"text-sm text-red-800 dark:text-red-200"},_t={class:"flex justify-end space-x-3 pt-4"},Ct=["disabled"];function Mt(i,t,u,r,l,c){return o(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:t[11]||(t[11]=(...s)=>r.close&&r.close(...s))},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[10]||(t[10]=D(()=>{},["stop"]))},[e("div",at,[e("div",nt,[t[13]||(t[13]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Modifier le profil ",-1)),e("button",{onClick:t[0]||(t[0]=(...s)=>r.close&&r.close(...s)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[12]||(t[12]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:t[9]||(t[9]=D((...s)=>r.updateProfile&&r.updateProfile(...s),["prevent"])),class:"space-y-4"},[e("div",lt,[e("div",null,[t[14]||(t[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nom complet ",-1)),v(e("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=s=>r.form.name=s),type:"text",required:"",class:m(["input-field mt-1",{"border-red-500":r.errors.name}])},null,2),[[_,r.form.name]]),r.errors.name?(o(),a("p",it,d(r.errors.name[0]),1)):p("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=s=>r.form.email=s),type:"email",disabled:"",class:"input-field mt-1 bg-gray-100 dark:bg-gray-700"},null,512),[[_,r.form.email]]),t[16]||(t[16]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," L'email ne peut pas être modifié ",-1))])]),e("div",dt,[e("div",null,[t[17]||(t[17]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Téléphone ",-1)),v(e("input",{id:"phone","onUpdate:modelValue":t[3]||(t[3]=s=>r.form.phone=s),type:"tel",class:m(["input-field mt-1",{"border-red-500":r.errors.phone}])},null,2),[[_,r.form.phone]]),r.errors.phone?(o(),a("p",ct,d(r.errors.phone[0]),1)):p("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{for:"company",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Entreprise ",-1)),v(e("input",{id:"company","onUpdate:modelValue":t[4]||(t[4]=s=>r.form.company=s),type:"text",class:m(["input-field mt-1",{"border-red-500":r.errors.company}])},null,2),[[_,r.form.company]]),r.errors.company?(o(),a("p",ut,d(r.errors.company[0]),1)):p("",!0)])]),e("div",null,[t[19]||(t[19]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Poste ",-1)),v(e("input",{id:"position","onUpdate:modelValue":t[5]||(t[5]=s=>r.form.position=s),type:"text",class:m(["input-field mt-1",{"border-red-500":r.errors.position}])},null,2),[[_,r.form.position]]),r.errors.position?(o(),a("p",mt,d(r.errors.position[0]),1)):p("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"avatar",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Photo de profil ",-1)),e("div",gt,[r.previewUrl||r.user.avatar_url?(o(),a("div",ft,[e("img",{src:r.previewUrl||r.user.avatar_url,alt:r.user.name,class:"h-full w-full object-cover"},null,8,xt)])):(o(),a("div",pt,[(o(),a("svg",yt,[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))])),e("div",null,[e("input",{id:"avatar",ref:"avatarInput",type:"file",accept:"image/*",onChange:t[6]||(t[6]=(...s)=>r.handleAvatarChange&&r.handleAvatarChange(...s)),class:"hidden"},null,544),e("button",{type:"button",onClick:t[7]||(t[7]=s=>i.$refs.avatarInput.click()),class:"btn-secondary"}," Changer la photo "),t[21]||(t[21]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," JPG, PNG ou GIF. Max 2MB. ",-1))])]),r.errors.avatar?(o(),a("p",vt,d(r.errors.avatar[0]),1)):p("",!0)]),r.error?(o(),a("div",bt,[e("div",ht,[t[23]||(t[23]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",wt,[e("p",kt,d(r.error),1)])])])):p("",!0),e("div",_t,[e("button",{type:"button",onClick:t[8]||(t[8]=(...s)=>r.close&&r.close(...s)),class:"btn-secondary"}," Annuler "),e("button",{type:"submit",disabled:r.loading,class:"btn-primary"},d(r.loading?"Sauvegarde...":"Sauvegarder"),9,Ct)])],32)])])])}const St=A(ot,[["render",Mt]]),zt={name:"SessionsModal",emits:["close"],setup(i,{emit:t}){const u=f([]),r=f(!1),l=g=>g?new Date(g).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Jamais",c=async()=>{try{const g=await E.get("/api/sso/sessions");g.data.success&&(u.value=g.data.data.sessions)}catch(g){console.error("Error loading sessions:",g)}},s=async g=>{if(confirm("Êtes-vous sûr de vouloir déconnecter cette session ?")){r.value=!0;try{(await E.delete(`/api/sso/sessions/${g}`)).data.success&&await c()}catch(x){console.error("Error revoking session:",x),alert("Erreur lors de la déconnexion de la session")}finally{r.value=!1}}},n=async()=>{if(confirm("Êtes-vous sûr de vouloir déconnecter tous les autres appareils ?")){r.value=!0;try{(await E.delete("/api/sso/sessions")).data.success&&await c()}catch(g){console.error("Error revoking all sessions:",g),alert("Erreur lors de la déconnexion des sessions")}finally{r.value=!1}}},y=()=>{t("close")};return q(()=>{c()}),{sessions:u,loading:r,formatDate:l,revokeSession:s,revokeAllSessions:n,close:y}}},jt={class:"mt-3"},At={class:"flex items-center justify-between mb-4"},Et={class:"space-y-4"},Lt={class:"flex items-center space-x-3"},Ut={class:"flex-shrink-0"},$t={class:"h-10 w-10 rounded-full flex items-center justify-center",style:{"background-color":"rgba(255, 204, 51, 0.2)"}},Pt={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vt={class:"flex-1 min-w-0"},Dt={class:"flex items-center space-x-2"},Bt={class:"text-sm font-medium text-gray-900 dark:text-white"},Rt={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium text-white",style:{"background-color":"#ffcc33"}},qt={class:"text-sm text-gray-500 dark:text-gray-400"},Nt={class:"text-xs text-gray-400 dark:text-gray-500"},Ft={class:"flex items-center space-x-2"},Ht=["onClick","disabled"],Tt={key:0,class:"text-center py-8"},It={class:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-600"},Gt=["disabled"];function Ot(i,t,u,r,l,c){return o(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:t[4]||(t[4]=(...s)=>r.close&&r.close(...s))},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[3]||(t[3]=D(()=>{},["stop"]))},[e("div",jt,[e("div",At,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Gérer les sessions ",-1)),e("button",{onClick:t[0]||(t[0]=(...s)=>r.close&&r.close(...s)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[5]||(t[5]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t[9]||(t[9]=e("div",{class:"mb-4"},[e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Gérez les appareils et navigateurs qui ont accès à votre compte. Déconnectez-vous de tous les appareils que vous ne reconnaissez pas. ")],-1)),e("div",Et,[(o(!0),a(H,null,T(r.sessions,s=>(o(),a("div",{key:s.id,class:m(["flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg",{"border-2":s.is_current}]),style:U(s.is_current?"background-color: rgba(255, 204, 51, 0.1); border-color: #ffcc33;":"")},[e("div",Lt,[e("div",Ut,[e("div",$t,[(o(),a("svg",Pt,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1)])]))])]),e("div",Vt,[e("div",Dt,[e("p",Bt,d(s.device_name),1),s.is_current?(o(),a("span",Rt," Session actuelle ")):p("",!0)]),e("p",qt,d(s.platform)+" • "+d(s.browser),1),e("p",Nt,d(s.ip_address)+" • Dernière activité: "+d(r.formatDate(s.last_activity)),1)])]),e("div",Ft,[s.is_current?p("",!0):(o(),a("button",{key:0,onClick:n=>r.revokeSession(s.id),disabled:r.loading,class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium disabled:opacity-50"}," Déconnecter ",8,Ht))])],6))),128))]),r.sessions.length===0?(o(),a("div",Tt,[...t[8]||(t[8]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"Aucune session",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Aucune session active trouvée. ",-1)])])):p("",!0),e("div",It,[e("button",{onClick:t[1]||(t[1]=(...s)=>r.revokeAllSessions&&r.revokeAllSessions(...s)),disabled:r.loading||r.sessions.filter(s=>!s.is_current).length===0,class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium disabled:opacity-50"}," Déconnecter tous les autres appareils ",8,Gt),e("button",{onClick:t[2]||(t[2]=(...s)=>r.close&&r.close(...s)),class:"btn-secondary"}," Fermer ")])])])])}const Jt=A(zt,[["render",Ot]]),Yt={name:"SecurityModal",emits:["close"],setup(i,{emit:t}){const u=$(),r=N(),l=F({current_password:"",password:"",password_confirmation:""}),c=f({}),s=f(""),n=f(""),y=f(!1),g=f(!1),x=f(!1),w=f(!1),h=f(!1),k=f("");return{passwordForm:l,passwordErrors:c,passwordError:s,passwordSuccess:n,passwordLoading:y,showDeactivateModal:g,showDeleteModal:x,deactivateLoading:w,deleteLoading:h,deleteConfirmation:k,changePassword:async()=>{y.value=!0,c.value={},s.value="",n.value="";try{const L=await E.post("/api/user/change-password",l);if(L.data.success)n.value="Mot de passe changé avec succès",l.current_password="",l.password="",l.password_confirmation="";else throw new Error(L.data.message||"Password change failed")}catch(L){L.response?.data?.errors?c.value=L.response.data.errors:s.value=L.message}finally{y.value=!1}},deactivateAccount:async()=>{w.value=!0;try{(await E.post("/api/user/deactivate",{password:l.current_password})).data.success&&(await u.logout(),r.push("/login"))}catch(L){alert(L.response?.data?.message||"Erreur lors de la désactivation")}finally{w.value=!1,g.value=!1}},deleteAccount:async()=>{h.value=!0;try{(await E.delete("/api/user/account",{data:{password:l.current_password,confirmation:k.value}})).data.success&&(await u.logout(),r.push("/login"))}catch(L){alert(L.response?.data?.message||"Erreur lors de la suppression")}finally{h.value=!1,x.value=!1}},close:()=>{t("close")}}}},Qt={class:"mt-3"},Wt={class:"flex items-center justify-between mb-4"},Zt={class:"space-y-6"},Kt={class:"border-b border-gray-200 dark:border-gray-600 pb-6"},Xt={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},er={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},tr={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},rr={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},sr={class:"flex"},or={class:"ml-3"},ar={class:"text-sm text-red-800 dark:text-red-200"},nr={key:1,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},lr={class:"flex"},ir={class:"ml-3"},dr={class:"text-sm text-green-800 dark:text-green-200"},cr={class:"flex justify-end"},ur=["disabled"],mr={class:"space-y-4"},gr={class:"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg"},fr={class:"flex justify-between items-center p-4 border border-red-200 dark:border-red-800 rounded-lg"},xr={class:"flex justify-end pt-4"},pr={class:"mt-3"},yr={class:"flex justify-end space-x-3"},vr=["disabled"],br={class:"mt-3"},hr={class:"mb-4"},wr={class:"flex justify-end space-x-3"},kr=["disabled"];function _r(i,t,u,r,l,c){return o(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:t[18]||(t[18]=(...s)=>r.close&&r.close(...s))},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[8]||(t[8]=D(()=>{},["stop"]))},[e("div",Qt,[e("div",Wt,[t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Paramètres de sécurité ",-1)),e("button",{onClick:t[0]||(t[0]=(...s)=>r.close&&r.close(...s)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...t[19]||(t[19]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Zt,[e("div",Kt,[t[26]||(t[26]=e("h4",{class:"text-md font-medium text-gray-900 dark:text-white mb-4"}," Changer le mot de passe ",-1)),e("form",{onSubmit:t[4]||(t[4]=D((...s)=>r.changePassword&&r.changePassword(...s),["prevent"])),class:"space-y-4"},[e("div",null,[t[21]||(t[21]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mot de passe actuel ",-1)),v(e("input",{id:"current_password","onUpdate:modelValue":t[1]||(t[1]=s=>r.passwordForm.current_password=s),type:"password",required:"",class:m(["input-field mt-1",{"border-red-500":r.passwordErrors.current_password}])},null,2),[[_,r.passwordForm.current_password]]),r.passwordErrors.current_password?(o(),a("p",Xt,d(r.passwordErrors.current_password[0]),1)):p("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"new_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nouveau mot de passe ",-1)),v(e("input",{id:"new_password","onUpdate:modelValue":t[2]||(t[2]=s=>r.passwordForm.password=s),type:"password",required:"",class:m(["input-field mt-1",{"border-red-500":r.passwordErrors.password}])},null,2),[[_,r.passwordForm.password]]),r.passwordErrors.password?(o(),a("p",er,d(r.passwordErrors.password[0]),1)):p("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Confirmer le nouveau mot de passe ",-1)),v(e("input",{id:"password_confirmation","onUpdate:modelValue":t[3]||(t[3]=s=>r.passwordForm.password_confirmation=s),type:"password",required:"",class:m(["input-field mt-1",{"border-red-500":r.passwordErrors.password_confirmation}])},null,2),[[_,r.passwordForm.password_confirmation]]),r.passwordErrors.password_confirmation?(o(),a("p",tr,d(r.passwordErrors.password_confirmation[0]),1)):p("",!0)]),r.passwordError?(o(),a("div",rr,[e("div",sr,[t[24]||(t[24]=e("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",or,[e("p",ar,d(r.passwordError),1)])])])):p("",!0),r.passwordSuccess?(o(),a("div",nr,[e("div",lr,[t[25]||(t[25]=e("svg",{class:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),e("div",ir,[e("p",dr,d(r.passwordSuccess),1)])])])):p("",!0),e("div",cr,[e("button",{type:"submit",disabled:r.passwordLoading,class:"btn-primary"},d(r.passwordLoading?"Changement...":"Changer le mot de passe"),9,ur)])],32)]),t[30]||(t[30]=V('<div class="border-b border-gray-200 dark:border-gray-600 pb-6"><h4 class="text-md font-medium text-gray-900 dark:text-white mb-4"> Authentification à deux facteurs </h4><div class="flex items-center justify-between"><div><p class="text-sm text-gray-600 dark:text-gray-400"> Ajoutez une couche de sécurité supplémentaire à votre compte </p></div><button class="btn-secondary" disabled> Bientôt disponible </button></div></div>',1)),e("div",mr,[t[29]||(t[29]=V('<h4 class="text-md font-medium text-gray-900 dark:text-white"> Actions du compte </h4><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"><div class="flex"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.726-1.36 3.491 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> Zone de danger </h3><div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300"><p>Ces actions sont irréversibles. Soyez prudent.</p></div></div></div></div>',2)),e("div",gr,[t[27]||(t[27]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Désactiver le compte "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Votre compte sera désactivé mais pourra être réactivé plus tard ")],-1)),e("button",{onClick:t[5]||(t[5]=s=>r.showDeactivateModal=!0),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium"}," Désactiver ")]),e("div",fr,[t[28]||(t[28]=e("div",null,[e("h5",{class:"text-sm font-medium text-red-900 dark:text-red-200"}," Supprimer le compte "),e("p",{class:"text-sm text-red-600 dark:text-red-400"}," Supprimer définitivement votre compte et toutes vos données ")],-1)),e("button",{onClick:t[6]||(t[6]=s=>r.showDeleteModal=!0),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium"}," Supprimer ")])])]),e("div",xr,[e("button",{onClick:t[7]||(t[7]=(...s)=>r.close&&r.close(...s)),class:"btn-secondary"}," Fermer ")])])]),r.showDeactivateModal?(o(),a("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-60",onClick:t[12]||(t[12]=s=>r.showDeactivateModal=!1)},[e("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[11]||(t[11]=D(()=>{},["stop"]))},[e("div",pr,[t[31]||(t[31]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Désactiver le compte ",-1)),t[32]||(t[32]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Êtes-vous sûr de vouloir désactiver votre compte ? Vous pourrez le réactiver plus tard. ",-1)),e("div",yr,[e("button",{onClick:t[9]||(t[9]=s=>r.showDeactivateModal=!1),class:"btn-secondary"}," Annuler "),e("button",{onClick:t[10]||(t[10]=(...s)=>r.deactivateAccount&&r.deactivateAccount(...s)),disabled:r.deactivateLoading,class:"bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50"},d(r.deactivateLoading?"Désactivation...":"Désactiver"),9,vr)])])])])):p("",!0),r.showDeleteModal?(o(),a("div",{key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-60",onClick:t[17]||(t[17]=s=>r.showDeleteModal=!1)},[e("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[16]||(t[16]=D(()=>{},["stop"]))},[e("div",br,[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-red-900 dark:text-red-200 mb-4"}," Supprimer le compte ",-1)),t[35]||(t[35]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Cette action est irréversible. Toutes vos données seront supprimées définitivement. ",-1)),e("div",hr,[t[33]||(t[33]=e("label",{for:"confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},' Tapez "SUPPRIMER" pour confirmer ',-1)),v(e("input",{id:"confirmation","onUpdate:modelValue":t[13]||(t[13]=s=>r.deleteConfirmation=s),type:"text",class:"input-field mt-1",placeholder:"SUPPRIMER"},null,512),[[_,r.deleteConfirmation]])]),e("div",wr,[e("button",{onClick:t[14]||(t[14]=s=>r.showDeleteModal=!1),class:"btn-secondary"}," Annuler "),e("button",{onClick:t[15]||(t[15]=(...s)=>r.deleteAccount&&r.deleteAccount(...s)),disabled:r.deleteLoading||r.deleteConfirmation!=="SUPPRIMER",class:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg disabled:opacity-50"},d(r.deleteLoading?"Suppression...":"Supprimer"),9,kr)])])])])):p("",!0)])}const Cr=A(Yt,[["render",_r]]),Mr={name:"Dashboard",components:{ProfileModal:St,SessionsModal:Jt,SecurityModal:Cr},setup(){const i=$(),t=f(!1),u=f(!1),r=f(!1),l=f([]),c=R(()=>i.user),s=y=>y?new Date(y).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Jamais",n=async()=>{try{const y=await axios.get("/api/sso/sessions");y.data.success&&(l.value=y.data.data.sessions)}catch(y){console.error("Error loading sessions:",y)}};return q(async()=>{console.log("Dashboard mounted, user:",i.user),console.log("Authenticated:",i.authenticated),i.user||(console.log("Loading user..."),await i.checkAuth(),console.log("User after checkAuth:",i.user)),n()}),{user:c,sessions:l,showProfileModal:t,showSessionsModal:u,showSecurityModal:r,formatDate:s}}},Sr={class:"space-y-6"},zr={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},jr={key:1,class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Ar={class:"px-4 py-5 sm:p-6"},Er={class:"flex items-center"},Lr={class:"flex-shrink-0"},Ur={key:0,class:"h-16 w-16 rounded-full overflow-hidden"},$r=["src","alt"],Pr={key:1,class:"h-16 w-16 rounded-full flex items-center justify-center",style:{"background-color":"#ffcc33"}},Vr={class:"h-10 w-10",style:{color:"#003366"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Dr={class:"ml-5 w-0 flex-1"},Br={class:"text-lg font-medium text-gray-900 dark:text-white"},Rr={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},qr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Nr={class:"p-5"},Fr={class:"flex items-center"},Hr={class:"flex-shrink-0"},Tr={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ir={class:"ml-5 w-0 flex-1"},Gr={class:"text-lg font-medium text-gray-900 dark:text-white"},Or={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Jr={class:"p-5"},Yr={class:"flex items-center"},Qr={class:"flex-shrink-0"},Wr={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Zr={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Kr={class:"p-5"},Xr={class:"flex items-center"},es={class:"flex-shrink-0"},ts={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rs={class:"ml-5 w-0 flex-1"},ss={class:"text-lg font-medium text-gray-900 dark:text-white"},os={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},as={class:"px-4 py-5 sm:p-6"},ns={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},ls={class:"flex items-center"},is={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ds={class:"flex items-center"},cs={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},us={class:"flex items-center"},ms={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},gs={class:"flex items-center"},fs={class:"h-6 w-6",style:{color:"#ffcc33"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xs={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},ps={class:"px-4 py-5 sm:p-6"},ys={class:"flow-root"},vs={class:"-mb-8"},bs={class:"relative pb-8"},hs={key:0,class:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600"},ws={class:"relative flex space-x-3"},ks={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},_s={class:"text-sm text-gray-500 dark:text-gray-400"},Cs={class:"text-sm text-gray-900 dark:text-white"},Ms={class:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400"},Ss=["datetime"];function zs(i,t,u,r,l,c){const s=B("router-link"),n=B("ProfileModal"),y=B("SessionsModal"),g=B("SecurityModal");return o(),a("div",Sr,[r.user?(o(),a("div",jr,[e("div",Ar,[e("div",Er,[e("div",Lr,[r.user.avatar_url?(o(),a("div",Ur,[e("img",{src:r.user.avatar_url,alt:r.user.name,class:"h-full w-full object-cover"},null,8,$r)])):(o(),a("div",Pr,[(o(),a("svg",Vr,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]))]),e("div",Dr,[e("dl",null,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Bienvenue ",-1)),e("dd",Br,d(r.user.name),1)])])])])])):(o(),a("div",zr,[...t[3]||(t[3]=[e("div",{class:"px-4 py-5 sm:p-6"},[e("div",{class:"flex items-center justify-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2",style:{"border-color":"#003366"}}),e("span",{class:"ml-3 text-gray-700 dark:text-gray-300"},"Chargement du dashboard...")])],-1)])])),e("div",Rr,[e("div",qr,[e("div",Nr,[e("div",Fr,[e("div",Hr,[(o(),a("svg",Tr,[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"},null,-1)])]))]),e("div",Ir,[e("dl",null,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Sessions actives ",-1)),e("dd",Gr,d(r.sessions.length),1)])])])])]),e("div",Or,[e("div",Jr,[e("div",Yr,[e("div",Qr,[(o(),a("svg",Wr,[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),t[9]||(t[9]=e("div",{class:"ml-5 w-0 flex-1"},[e("dl",null,[e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Statut du compte "),e("dd",{class:"text-lg font-medium",style:{color:"#ffcc33"}}," Actif ")])],-1))])])]),e("div",Zr,[e("div",Kr,[e("div",Xr,[e("div",es,[(o(),a("svg",ts,[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),e("div",rs,[e("dl",null,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Dernière connexion ",-1)),e("dd",ss,d(r.formatDate(r.user.last_login_at)),1)])])])])])]),e("div",os,[e("div",as,[t[20]||(t[20]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Actions rapides ",-1)),e("div",ns,[C(s,{to:"/profile",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",ls,[(o(),a("svg",is,[...t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])])),t[13]||(t[13]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," Modifier le profil ",-1))])]),_:1}),C(s,{to:"/security",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",ds,[(o(),a("svg",cs,[...t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])])),t[15]||(t[15]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," Sécurité ",-1))])]),_:1}),C(s,{to:"/notifications",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",us,[(o(),a("svg",ms,[...t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12 7H4.828zM4.828 17l2.586-2.586a2 2 0 012.828 0L12 17H4.828z"},null,-1)])])),t[17]||(t[17]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," Notifications ",-1))])]),_:1}),C(s,{to:"/about",class:"relative rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-6 py-4 text-left hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-herime-blue-500 transition-all duration-200 hover:shadow-md"},{default:M(()=>[e("div",gs,[(o(),a("svg",fs,[...t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),t[19]||(t[19]=e("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-white"}," À propos ",-1))])]),_:1})])])]),e("div",xs,[e("div",ps,[t[22]||(t[22]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Sessions récentes ",-1)),e("div",ys,[e("ul",vs,[(o(!0),a(H,null,T(r.sessions.slice(0,5),(x,w)=>(o(),a("li",{key:x.id},[e("div",bs,[w!==r.sessions.length-1?(o(),a("div",hs)):p("",!0),e("div",ws,[t[21]||(t[21]=e("div",null,[e("span",{class:"h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800",style:{"background-color":"#003366"}},[e("svg",{class:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})])])],-1)),e("div",ks,[e("div",null,[e("p",_s,d(x.device_name)+" • "+d(x.platform)+" • "+d(x.browser),1),e("p",Cs,d(x.ip_address),1)]),e("div",Ms,[e("time",{datetime:x.last_activity},d(r.formatDate(x.last_activity)),9,Ss)])])])])]))),128))])])])]),r.showProfileModal?(o(),I(n,{key:2,onClose:t[0]||(t[0]=x=>r.showProfileModal=!1)})):p("",!0),r.showSessionsModal?(o(),I(y,{key:3,onClose:t[1]||(t[1]=x=>r.showSessionsModal=!1)})):p("",!0),r.showSecurityModal?(o(),I(g,{key:4,onClose:t[2]||(t[2]=x=>r.showSecurityModal=!1)})):p("",!0)])}const js=A(Mr,[["render",zs]]),As={name:"Profile",setup(){const i=$(),t=Y("notify"),u=f(!1),r=f(null),l=R(()=>i.user),c=F({name:"",email:"",phone:"",bio:"",location:"",website:"",avatar_url:"",email_notifications:!0,marketing_emails:!1}),s=()=>{r.value?.click()},n=w=>{const h=w.target.files[0];if(h){const k=new FileReader;k.onload=P=>{c.avatar_url=P.target.result},k.readAsDataURL(h)}},y=()=>{c.email_notifications=!c.email_notifications},g=()=>{c.marketing_emails=!c.marketing_emails},x=async()=>{u.value=!0;try{const w=await axios.post("/user/profile",c);w.data.success&&(i.updateUser(w.data.data.user),t.success("Succès","Profil mis à jour avec succès!"))}catch(w){console.error("Error updating profile:",w),w.response?.data?.message?t.error("Erreur",w.response.data.message):t.error("Erreur","Erreur lors de la mise à jour du profil")}finally{u.value=!1}};return q(()=>{l.value&&Object.assign(c,{name:l.value.name||"",email:l.value.email||"",phone:l.value.phone||"",bio:l.value.bio||"",location:l.value.location||"",website:l.value.website||"",avatar_url:l.value.avatar_url||"",email_notifications:l.value.email_notifications!==!1,marketing_emails:l.value.marketing_emails===!0})}),{user:l,form:c,loading:u,avatarInput:r,triggerAvatarUpload:s,handleAvatarChange:n,toggleEmailNotifications:y,toggleMarketingEmails:g,updateProfile:x}}},Es={class:"space-y-6"},Ls={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Us={class:"px-4 py-5 sm:p-6"},$s={class:"flex items-center space-x-6"},Ps={class:"flex-shrink-0"},Vs={key:0,class:"h-20 w-20 rounded-full overflow-hidden"},Ds=["src","alt"],Bs={key:1,class:"h-20 w-20 rounded-full flex items-center justify-center",style:{"background-color":"#ffcc33"}},Rs={class:"h-12 w-12",style:{color:"#003366"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qs={class:"flex justify-end"},Ns=["disabled"],Fs={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Hs={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Ts={class:"px-4 py-5 sm:p-6"},Is={class:"space-y-4"},Gs={class:"flex items-center justify-between"},Os={class:"flex items-center justify-between"};function Js(i,t,u,r,l,c){return o(),a("div",Es,[t[24]||(t[24]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Profil</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> Gérez vos informations personnelles et vos préférences de compte </p></div></div></div></div>',1)),e("div",Ls,[e("div",Us,[t[20]||(t[20]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Informations personnelles ",-1)),e("form",{onSubmit:t[10]||(t[10]=D((...s)=>r.updateProfile&&r.updateProfile(...s),["prevent"])),class:"space-y-6"},[e("div",$s,[e("div",Ps,[r.form.avatar_url?(o(),a("div",Vs,[e("img",{src:r.form.avatar_url,alt:r.form.name,class:"h-full w-full object-cover"},null,8,Ds)])):(o(),a("div",Bs,[(o(),a("svg",Rs,[...t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]))]),e("div",null,[e("button",{type:"button",onClick:t[0]||(t[0]=(...s)=>r.triggerAvatarUpload&&r.triggerAvatarUpload(...s)),class:"bg-white dark:bg-gray-700 py-2 px-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{focus:"ring-color: #ffcc33"}}," Changer la photo "),e("input",{ref:"avatarInput",type:"file",accept:"image/*",onChange:t[1]||(t[1]=(...s)=>r.handleAvatarChange&&r.handleAvatarChange(...s)),class:"hidden"},null,544)])]),e("div",null,[t[14]||(t[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nom complet ",-1)),v(e("input",{id:"name","onUpdate:modelValue":t[2]||(t[2]=s=>r.form.name=s),type:"text",required:"",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,r.form.name]])]),e("div",null,[t[15]||(t[15]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Adresse e-mail ",-1)),v(e("input",{id:"email","onUpdate:modelValue":t[3]||(t[3]=s=>r.form.email=s),type:"email",required:"",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,r.form.email]])]),e("div",null,[t[16]||(t[16]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Téléphone ",-1)),v(e("input",{id:"phone","onUpdate:modelValue":t[4]||(t[4]=s=>r.form.phone=s),type:"tel",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,r.form.phone]])]),e("div",null,[t[17]||(t[17]=e("label",{for:"bio",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Biographie ",-1)),v(e("textarea",{id:"bio","onUpdate:modelValue":t[5]||(t[5]=s=>r.form.bio=s),rows:"3",class:"mt-1 block w-full px-3 py-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"},placeholder:"Parlez-nous de vous..."},null,512),[[_,r.form.bio]])]),e("div",null,[t[18]||(t[18]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Localisation ",-1)),v(e("input",{id:"location","onUpdate:modelValue":t[6]||(t[6]=s=>r.form.location=s),type:"text",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"},placeholder:"Ville, Pays"},null,512),[[_,r.form.location]])]),e("div",null,[t[19]||(t[19]=e("label",{for:"website",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Site web ",-1)),v(e("input",{id:"website","onUpdate:modelValue":t[7]||(t[7]=s=>r.form.website=s),type:"url",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"},placeholder:"https://example.com"},null,512),[[_,r.form.website]])]),e("div",qs,[e("button",{type:"submit",disabled:r.loading,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366",focus:"ring-color: #003366"},onMouseenter:t[8]||(t[8]=s=>s.target.style.backgroundColor="#ffcc33"),onMouseleave:t[9]||(t[9]=s=>s.target.style.backgroundColor="#003366")},[r.loading?(o(),a("div",Fs)):p("",!0),b(" "+d(r.loading?"Mise à jour...":"Mettre à jour le profil"),1)],40,Ns)])],32)])]),e("div",Hs,[e("div",Ts,[t[23]||(t[23]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Paramètres du compte ",-1)),e("div",Is,[e("div",Gs,[t[21]||(t[21]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Notifications par e-mail "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez des notifications importantes par e-mail ")],-1)),e("button",{onClick:t[11]||(t[11]=(...s)=>r.toggleEmailNotifications&&r.toggleEmailNotifications(...s)),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.form.email_notifications?"bg-herime-blue-500":"bg-gray-200 dark:bg-gray-600"]),style:U(r.form.email_notifications?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.form.email_notifications?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Os,[t[22]||(t[22]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," E-mails marketing "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez des mises à jour sur nos produits et services ")],-1)),e("button",{onClick:t[12]||(t[12]=(...s)=>r.toggleMarketingEmails&&r.toggleMarketingEmails(...s)),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.form.marketing_emails?"bg-herime-blue-500":"bg-gray-200 dark:bg-gray-600"]),style:U(r.form.marketing_emails?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.form.marketing_emails?"translate-x-5":"translate-x-0"])},null,2)],6)])])])])])}const Ys=A(As,[["render",Js]]),Qs={name:"Security",setup(){$();const i=Y("notify"),t=f(!1),u=f(!1),r=f([]),l=f([]),c=F({current_password:"",new_password:"",confirm_password:""}),s=async()=>{if(c.new_password!==c.confirm_password){i.error("Erreur","Les mots de passe ne correspondent pas");return}t.value=!0;try{await axios.put("/user/password",{current_password:c.current_password,password:c.new_password,password_confirmation:c.confirm_password}),i.success("Succès","Mot de passe mis à jour avec succès!"),Object.assign(c,{current_password:"",new_password:"",confirm_password:""})}catch(h){console.error("Error updating password:",h),h.response?.data?.message?i.error("Erreur",h.response.data.message):i.error("Erreur","Erreur lors de la mise à jour du mot de passe")}finally{t.value=!1}},n=async()=>{try{await new Promise(h=>setTimeout(h,500)),u.value=!u.value,i.success("Succès",u.value?"2FA activé!":"2FA désactivé!")}catch(h){console.error("Error toggling 2FA:",h),i.error("Erreur","Erreur lors de la modification de la 2FA")}},y=async h=>{if(confirm("Êtes-vous sûr de vouloir révoquer cet appareil?"))try{await axios.delete(`/sso/sessions/${h}`),r.value=r.value.filter(k=>k.id!==h),i.success("Succès","Appareil révoqué avec succès!")}catch(k){console.error("Error revoking device:",k),k.response?.data?.message?i.error("Erreur",k.response.data.message):i.error("Erreur","Erreur lors de la révocation de l'appareil")}},g=h=>h?new Date(h).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Jamais",x=async()=>{try{const h=await axios.get("/sso/sessions");h.data.success&&(r.value=h.data.data.sessions)}catch(h){console.error("Error loading devices:",h),i.error("Erreur","Erreur lors du chargement des appareils")}},w=async()=>{try{const h=await axios.get("/sso/sessions");h.data.success&&(l.value=h.data.data.sessions.map(k=>({...k,success:!0,created_at:k.created_at})))}catch(h){console.error("Error loading login history:",h),i.error("Erreur","Erreur lors du chargement de l'historique de connexion")}};return q(()=>{x(),w()}),{passwordForm:c,passwordLoading:t,twoFactorEnabled:u,devices:r,loginHistory:l,updatePassword:s,toggleTwoFactor:n,revokeDevice:y,formatDate:g}}},Ws={class:"space-y-6"},Zs={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Ks={class:"px-4 py-5 sm:p-6"},Xs={class:"flex justify-end"},eo=["disabled"],to={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},ro={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},so={class:"px-4 py-5 sm:p-6"},oo={class:"space-y-4"},ao={class:"flex items-center justify-between"},no={class:"flex items-center space-x-3"},lo={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-4"},io={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},co={class:"px-4 py-5 sm:p-6"},uo={class:"space-y-4"},mo={class:"flex items-center space-x-4"},go={class:"text-sm font-medium text-gray-900 dark:text-white"},fo={class:"text-sm text-gray-500 dark:text-gray-400"},xo={class:"text-xs text-gray-400 dark:text-gray-500"},po={class:"flex items-center space-x-2"},yo={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white",style:{"background-color":"#ffcc33"}},vo=["onClick"],bo={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},ho={class:"px-4 py-5 sm:p-6"},wo={class:"flow-root"},ko={class:"-mb-8"},_o={class:"relative pb-8"},Co={key:0,class:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600"},Mo={class:"relative flex space-x-3"},So={key:0,class:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},zo={key:1,class:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20"},jo={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},Ao={class:"text-sm text-gray-500 dark:text-gray-400"},Eo={class:"text-sm text-gray-900 dark:text-white"},Lo={class:"text-right text-sm whitespace-nowrap text-gray-500 dark:text-gray-400"},Uo=["datetime"];function $o(i,t,u,r,l,c){return o(),a("div",Ws,[t[20]||(t[20]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Sécurité</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> Gérez vos identifiants, l&#39;authentification à deux facteurs et les appareils connectés </p></div></div></div></div>',1)),e("div",Zs,[e("div",Ks,[t[11]||(t[11]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Mot de passe ",-1)),e("form",{onSubmit:t[5]||(t[5]=D((...s)=>r.updatePassword&&r.updatePassword(...s),["prevent"])),class:"space-y-6"},[e("div",null,[t[7]||(t[7]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mot de passe actuel ",-1)),v(e("input",{id:"current_password","onUpdate:modelValue":t[0]||(t[0]=s=>r.passwordForm.current_password=s),type:"password",required:"",placeholder:"Entrez votre mot de passe actuel",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,r.passwordForm.current_password]])]),e("div",null,[t[8]||(t[8]=e("label",{for:"new_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nouveau mot de passe ",-1)),v(e("input",{id:"new_password","onUpdate:modelValue":t[1]||(t[1]=s=>r.passwordForm.new_password=s),type:"password",required:"",minlength:"8",placeholder:"Entrez votre nouveau mot de passe",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,r.passwordForm.new_password]]),t[9]||(t[9]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Le mot de passe doit contenir au moins 8 caractères ",-1))]),e("div",null,[t[10]||(t[10]=e("label",{for:"confirm_password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Confirmer le nouveau mot de passe ",-1)),v(e("input",{id:"confirm_password","onUpdate:modelValue":t[2]||(t[2]=s=>r.passwordForm.confirm_password=s),type:"password",required:"",placeholder:"Confirmez votre nouveau mot de passe",class:"mt-1 block w-full h-10 px-3 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm sm:text-sm",style:{focus:"border-color: #003366"}},null,512),[[_,r.passwordForm.confirm_password]])]),e("div",Xs,[e("button",{type:"submit",disabled:r.passwordLoading,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366",focus:"ring-color: #003366"},onMouseenter:t[3]||(t[3]=s=>s.target.style.backgroundColor="#ffcc33"),onMouseleave:t[4]||(t[4]=s=>s.target.style.backgroundColor="#003366")},[r.passwordLoading?(o(),a("div",to)):p("",!0),b(" "+d(r.passwordLoading?"Mise à jour...":"Mettre à jour le mot de passe"),1)],40,eo)])],32)])]),e("div",ro,[e("div",so,[t[14]||(t[14]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Authentification à deux facteurs ",-1)),e("div",oo,[e("div",ao,[t[12]||(t[12]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Authentification à deux facteurs "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Ajoutez une couche de sécurité supplémentaire à votre compte ")],-1)),e("div",no,[e("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.twoFactorEnabled?"text-white":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"]),style:U(r.twoFactorEnabled?"background-color: #ffcc33;":"")},d(r.twoFactorEnabled?"Activé":"Désactivé"),7),e("button",{onClick:t[6]||(t[6]=(...s)=>r.toggleTwoFactor&&r.toggleTwoFactor(...s)),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.twoFactorEnabled?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.twoFactorEnabled?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.twoFactorEnabled?"translate-x-5":"translate-x-0"])},null,2)],6)])]),r.twoFactorEnabled?p("",!0):(o(),a("div",lo,[...t[13]||(t[13]=[V('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> Authentification à deux facteurs recommandée </h3><div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300"><p>Activez l&#39;authentification à deux facteurs pour renforcer la sécurité de votre compte.</p></div></div></div>',1)])]))])])]),e("div",io,[e("div",co,[t[16]||(t[16]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Appareils connectés ",-1)),e("div",uo,[(o(!0),a(H,null,T(r.devices,s=>(o(),a("div",{key:s.id,class:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg"},[e("div",mo,[t[15]||(t[15]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("div",null,[e("h4",go,d(s.device_name),1),e("p",fo,d(s.platform)+" • "+d(s.browser)+" • "+d(s.ip_address),1),e("p",xo," Dernière activité: "+d(r.formatDate(s.last_activity)),1)])]),e("div",po,[s.is_current?(o(),a("span",yo," Appareil actuel ")):p("",!0),s.is_current?p("",!0):(o(),a("button",{key:1,onClick:n=>r.revokeDevice(s.id),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium"}," Révoquer ",8,vo))])]))),128))])])]),e("div",bo,[e("div",ho,[t[19]||(t[19]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Historique de connexion ",-1)),e("div",wo,[e("ul",ko,[(o(!0),a(H,null,T(r.loginHistory,(s,n)=>(o(),a("li",{key:s.id},[e("div",_o,[n!==r.loginHistory.length-1?(o(),a("div",Co)):p("",!0),e("div",Mo,[e("div",null,[e("span",{class:m(["h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800",s.success?"bg-green-500":"bg-red-500"])},[s.success?(o(),a("svg",So,[...t[17]||(t[17]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(o(),a("svg",zo,[...t[18]||(t[18]=[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])]))],2)]),e("div",jo,[e("div",null,[e("p",Ao,d(s.device_name)+" • "+d(s.platform)+" • "+d(s.browser),1),e("p",Eo,d(s.ip_address),1)]),e("div",Lo,[e("time",{datetime:s.created_at},d(r.formatDate(s.created_at)),9,Uo)])])])])]))),128))])])])])])}const Po=A(Qs,[["render",$o]]),Vo={name:"Notifications",setup(){const i=Y("notify"),t=f(!1),u=f(!1),r=f(!1),l=f("daily"),c=F({suspicious_logins:!0,password_changes:!0,profile_changes:!1,new_features:!0,maintenance:!0,newsletter:!1,special_offers:!1}),s=[{value:"immediate",label:"Immédiatement"},{value:"daily",label:"Quotidiennement"},{value:"weekly",label:"Hebdomadairement"},{value:"monthly",label:"Mensuellement"},{value:"never",label:"Jamais"}],n=x=>{c[x]=!c[x]},y=async()=>{r.value?r.value=!1:await Notification.requestPermission()==="granted"?r.value=!0:i.warning("Permission refusée","Permission refusée pour les notifications push")},g=async()=>{t.value=!0;try{(await axios.put("/user/preferences",{preferences:{notifications:c,email_frequency:l.value,push_notifications:r.value}})).data.success&&i.success("Succès","Préférences de notifications sauvegardées!")}catch(x){console.error("Error saving notifications:",x),x.response?.data?.message?i.error("Erreur",x.response.data.message):i.error("Erreur","Erreur lors de la sauvegarde des préférences")}finally{t.value=!1}};return q(()=>{u.value="Notification"in window,u.value&&(r.value=Notification.permission==="granted")}),{saving:t,notifications:c,pushNotificationsSupported:u,pushNotificationsEnabled:r,selectedEmailFrequency:l,emailFrequencies:s,toggleNotification:n,togglePushNotifications:y,saveNotifications:g}}},Do={class:"space-y-6"},Bo={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Ro={class:"px-4 py-5 sm:p-6"},qo={class:"space-y-6"},No={class:"space-y-4"},Fo={class:"flex items-center justify-between"},Ho={class:"flex items-center justify-between"},To={class:"flex items-center justify-between"},Io={class:"space-y-4"},Go={class:"flex items-center justify-between"},Oo={class:"flex items-center justify-between"},Jo={class:"space-y-4"},Yo={class:"flex items-center justify-between"},Qo={class:"flex items-center justify-between"},Wo={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},Zo={class:"px-4 py-5 sm:p-6"},Ko={class:"space-y-4"},Xo={class:"flex items-center justify-between"},ea={class:"flex items-center space-x-3"},ta={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-4"},ra={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},sa={class:"px-4 py-5 sm:p-6"},oa={class:"space-y-4"},aa={class:"space-y-2"},na=["id","value"],la=["for"],ia={class:"flex justify-end"},da=["disabled"],ca={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"};function ua(i,t,u,r,l,c){return o(),a("div",Do,[t[28]||(t[28]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Notifications</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> Gérez vos préférences de notifications et restez informé de ce qui vous intéresse </p></div></div></div></div>',1)),e("div",Bo,[e("div",Ro,[t[22]||(t[22]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Notifications par e-mail ",-1)),e("div",qo,[e("div",null,[t[15]||(t[15]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-4"}," Compte et sécurité ",-1)),e("div",No,[e("div",Fo,[t[12]||(t[12]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Connexions suspectes "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez une alerte en cas de connexion depuis un nouvel appareil ou lieu ")],-1)),e("button",{onClick:t[0]||(t[0]=s=>r.toggleNotification("suspicious_logins")),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.notifications.suspicious_logins?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.notifications.suspicious_logins?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.notifications.suspicious_logins?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Ho,[t[13]||(t[13]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Changements de mot de passe "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Soyez notifié lorsque votre mot de passe est modifié ")],-1)),e("button",{onClick:t[1]||(t[1]=s=>r.toggleNotification("password_changes")),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.notifications.password_changes?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.notifications.password_changes?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.notifications.password_changes?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",To,[t[14]||(t[14]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Modifications du profil "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez une confirmation des modifications de votre profil ")],-1)),e("button",{onClick:t[2]||(t[2]=s=>r.toggleNotification("profile_changes")),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.notifications.profile_changes?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.notifications.profile_changes?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.notifications.profile_changes?"translate-x-5":"translate-x-0"])},null,2)],6)])])]),e("div",null,[t[18]||(t[18]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-4"}," Mises à jour produit ",-1)),e("div",Io,[e("div",Go,[t[16]||(t[16]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Nouvelles fonctionnalités "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Découvrez les nouvelles fonctionnalités et améliorations ")],-1)),e("button",{onClick:t[3]||(t[3]=s=>r.toggleNotification("new_features")),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.notifications.new_features?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.notifications.new_features?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.notifications.new_features?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Oo,[t[17]||(t[17]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Maintenance système "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Soyez informé des maintenances programmées ")],-1)),e("button",{onClick:t[4]||(t[4]=s=>r.toggleNotification("maintenance")),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.notifications.maintenance?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.notifications.maintenance?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.notifications.maintenance?"translate-x-5":"translate-x-0"])},null,2)],6)])])]),e("div",null,[t[21]||(t[21]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-4"}," Marketing et communications ",-1)),e("div",Jo,[e("div",Yo,[t[19]||(t[19]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Newsletter "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez notre newsletter avec les dernières actualités ")],-1)),e("button",{onClick:t[5]||(t[5]=s=>r.toggleNotification("newsletter")),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.notifications.newsletter?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.notifications.newsletter?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.notifications.newsletter?"translate-x-5":"translate-x-0"])},null,2)],6)]),e("div",Qo,[t[20]||(t[20]=e("div",null,[e("h5",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Offres spéciales "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Découvrez nos offres et promotions exclusives ")],-1)),e("button",{onClick:t[6]||(t[6]=s=>r.toggleNotification("special_offers")),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.notifications.special_offers?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.notifications.special_offers?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.notifications.special_offers?"translate-x-5":"translate-x-0"])},null,2)],6)])])])])])]),e("div",Wo,[e("div",Zo,[t[25]||(t[25]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Notifications push ",-1)),e("div",Ko,[e("div",Xo,[t[23]||(t[23]=e("div",null,[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Notifications push du navigateur "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Recevez des notifications instantanées dans votre navigateur ")],-1)),e("div",ea,[e("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.pushNotificationsSupported?"text-white":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"]),style:U(r.pushNotificationsSupported?"background-color: #ffcc33;":"")},d(r.pushNotificationsSupported?"Supporté":"Non supporté"),7),r.pushNotificationsSupported?(o(),a("button",{key:0,onClick:t[7]||(t[7]=(...s)=>r.togglePushNotifications&&r.togglePushNotifications(...s)),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2",r.pushNotificationsEnabled?"bg-herime-600":"bg-gray-200 dark:bg-gray-600"]),style:U(r.pushNotificationsEnabled?"background-color: #003366;":"")},[e("span",{class:m(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",r.pushNotificationsEnabled?"translate-x-5":"translate-x-0"])},null,2)],6)):p("",!0)])]),r.pushNotificationsSupported?p("",!0):(o(),a("div",ta,[...t[24]||(t[24]=[V('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200"> Notifications push non supportées </h3><div class="mt-2 text-sm text-yellow-700 dark:text-yellow-300"><p>Votre navigateur ne supporte pas les notifications push ou elles sont désactivées.</p></div></div></div>',1)])]))])])]),e("div",ra,[e("div",sa,[t[27]||(t[27]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Fréquence des notifications ",-1)),e("div",oa,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Fréquence des e-mails ",-1)),e("div",aa,[(o(!0),a(H,null,T(r.emailFrequencies,s=>(o(),a("label",{key:s.value,class:"flex items-center"},[v(e("input",{id:s.value,"onUpdate:modelValue":t[8]||(t[8]=n=>r.selectedEmailFrequency=n),value:s.value,type:"radio",class:"h-4 w-4 border-gray-300 dark:border-gray-600",style:{"accent-color":"#003366"}},null,8,na),[[te,r.selectedEmailFrequency]]),e("label",{for:s.value,class:"ml-3 text-sm text-gray-700 dark:text-gray-300"},d(s.label),9,la)]))),128))])])])])]),e("div",ia,[e("button",{onClick:t[9]||(t[9]=(...s)=>r.saveNotifications&&r.saveNotifications(...s)),disabled:r.saving,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{"background-color":"#003366",focus:"ring-color: #003366"},onMouseenter:t[10]||(t[10]=s=>s.target.style.backgroundColor="#ffcc33"),onMouseleave:t[11]||(t[11]=s=>s.target.style.backgroundColor="#003366")},[r.saving?(o(),a("div",ca)):p("",!0),b(" "+d(r.saving?"Sauvegarde...":"Sauvegarder les préférences"),1)],40,da)])])}const ma=A(Vo,[["render",ua]]),ga={name:"About",setup(){return{currentYear:R(()=>new Date().getFullYear()),formatDate:u=>u.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}}},fa={class:"space-y-6"},xa={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6"},pa={class:"text-center"},ya={class:"text-sm text-gray-500 dark:text-gray-400"};function va(i,t,u,r,l,c){return o(),a("div",fa,[t[1]||(t[1]=V('<div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">À propos</h1><p class="mt-1 text-sm text-gray-500 dark:text-gray-400"> Votre portail d&#39;accès à l&#39;écosystème Herime </p></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> Qu&#39;est-ce qu&#39;un Compte Herime ? </h3><div class="space-y-4"><p class="text-gray-700 dark:text-gray-300 leading-relaxed"> Votre <strong>Compte Herime</strong> est votre clé d&#39;accès unique à l&#39;ensemble de l&#39;écosystème Herime. Il s&#39;agit de votre identité numérique centralisée qui vous permet de naviguer facilement entre tous les services et plateformes de l&#39;écosystème Herime. </p><div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"><h4 class="text-md font-semibold text-blue-900 dark:text-blue-100 mb-2"> 🌐 Accès à l&#39;écosystème complet </h4><p class="text-blue-800 dark:text-blue-200 text-sm"> Avec un seul compte, accédez à tous les services Herime : plateformes de formation, outils de développement, communautés, ressources, et bien plus encore. </p></div><div class="space-y-3"><h4 class="text-md font-semibold text-gray-900 dark:text-white">Avantages de votre Compte Herime :</h4><ul class="space-y-2"><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">Authentification unique (SSO) pour tous les services Herime</span></li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">Synchronisation de vos données et préférences</span></li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">Gestion centralisée de votre profil et de vos paramètres</span></li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg><span class="text-gray-700 dark:text-gray-300">Sécurité avancée avec authentification à deux facteurs</span></li></ul></div><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"><p class="text-yellow-800 dark:text-yellow-200 text-sm"><strong>En savoir plus sur Herime :</strong><a href="https://www.herime.com" target="_blank" rel="noopener noreferrer" class="underline hover:no-underline font-medium" style="color:#ffcc33;"> www.herime.com </a></p></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> Équipe de développement </h3><div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"><div class="flex items-center space-x-4"><div class="flex-shrink-0"><div class="h-12 w-12 rounded-full flex items-center justify-center" style="background-color:#ffcc33;"><span class="text-white font-medium text-lg">HM</span></div></div><div><h4 class="text-sm font-medium text-gray-900 dark:text-white">Heritier Mulume</h4><p class="text-sm text-gray-500 dark:text-gray-400">Développeur Full-Stack</p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> Fonctionnalités principales </h3><div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div class="space-y-4"><h4 class="text-sm font-medium text-gray-900 dark:text-white">Sécurité</h4><ul class="space-y-2"><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Authentification sécurisée </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Gestion des sessions </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Authentification à deux facteurs </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Chiffrement des données </li></ul></div><div class="space-y-4"><h4 class="text-sm font-medium text-gray-900 dark:text-white">Interface utilisateur</h4><ul class="space-y-2"><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Mode sombre/clair </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Interface responsive </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Navigation intuitive </li><li class="flex items-center text-sm text-gray-600 dark:text-gray-400"><svg class="h-4 w-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Notifications personnalisables </li></ul></div></div></div></div><div class="bg-white dark:bg-gray-800 shadow rounded-lg"><div class="px-4 py-5 sm:p-6"><h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"> Contact et support </h3><div class="grid grid-cols-1 gap-6 sm:grid-cols-2"><div><h4 class="text-sm font-medium text-gray-900 dark:text-white mb-3">Support technique</h4><div class="space-y-2"><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">E-mail:</span><a href="mailto:contact@herime.com" class="hover:opacity-80" style="color:#ffcc33;"> contact@herime.com </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">Téléphone:</span><a href="tel:+243824449218" class="hover:opacity-80" style="color:#ffcc33;"> +243 824 449 218 </a></p></div></div><div><h4 class="text-sm font-medium text-gray-900 dark:text-white mb-3">Réseaux sociaux</h4><div class="space-y-2"><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">LinkedIn:</span><a href="https://www.linkedin.com/company/herime1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">Instagram:</span><a href="https://www.instagram.com/herime_1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime_1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">Facebook:</span><a href="https://www.facebook.com/herime1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">TikTok:</span><a href="https://www.tiktok.com/@herime_1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime_1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">YouTube:</span><a href="https://www.youtube.com/@herime_1" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> @herime_1 </a></p><p class="text-sm text-gray-600 dark:text-gray-400"><span class="font-medium">WhatsApp:</span><a href="https://whatsapp.com/channel/0029VaU6teH3mFYCdZPjoT0h" target="_blank" rel="noopener noreferrer" class="hover:opacity-80" style="color:#ffcc33;"> Chaîne officielle </a></p></div></div></div></div></div>',5)),e("div",xa,[e("div",pa,[e("p",ya," © "+d(r.currentYear)+" HERIME. Tous droits réservés. ",1),t[0]||(t[0]=e("p",{class:"mt-2 text-xs text-gray-400 dark:text-gray-500"},[b(" Développé par l'équipe "),e("a",{href:"https://facebook.com/heritier.mulume.001",target:"_blank",rel:"noopener noreferrer",class:"hover:opacity-80 font-medium",style:{color:"#ffcc33"}}," Héritier Mulume ")],-1))])])])}const ba=A(ga,[["render",va]]),ha={name:"AdminLogin",setup(){const i=N(),t=$(),u=f(!0),r=R(()=>t.authenticated),l=R(()=>t.user?.role==="super_user");return q(async()=>{await t.checkAuth(),u.value=!1,r.value&&l.value&&setTimeout(()=>{i.push("/admin/dashboard")},1e3)}),{loading:u,isAuthenticated:r,isSuperUser:l}}},wa={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"},ka={class:"max-w-md w-full space-y-8"},_a={key:0,class:"text-center"},Ca={key:1,class:"text-center"},Ma={class:"mt-6"},Sa={key:2,class:"text-center"},za={class:"mt-6"},ja={key:3,class:"text-center"};function Aa(i,t,u,r,l,c){const s=B("router-link");return o(),a("div",wa,[e("div",ka,[r.loading?(o(),a("div",_a,[...t[0]||(t[0]=[V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-yellow-400"><svg class="animate-spin h-8 w-8 text-gray-900" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> Vérification des permissions... </h2>',2)])])):r.isAuthenticated?r.isSuperUser?(o(),a("div",ja,[...t[5]||(t[5]=[V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-400"><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> Redirection... </h2><p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400"> Accès autorisé, redirection vers le tableau de bord </p>',3)])])):(o(),a("div",Sa,[t[4]||(t[4]=V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-red-400"><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> Accès refusé </h2><p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400"> Seuls les super utilisateurs peuvent accéder à l&#39;administration </p>',3)),e("div",za,[C(s,{to:"/",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:M(()=>[...t[3]||(t[3]=[b(" Retour à l'accueil ",-1)])]),_:1})])])):(o(),a("div",Ca,[t[2]||(t[2]=V('<div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-red-400"><svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"> Accès refusé </h2><p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400"> Vous devez être connecté pour accéder à l&#39;administration </p>',3)),e("div",Ma,[C(s,{to:"/login",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:M(()=>[...t[1]||(t[1]=[b(" Se connecter ",-1)])]),_:1})])]))])])}const Ea=A(ha,[["render",Aa]]),La={name:"AdminDashboard",setup(){const i=N(),t=$(),u=f(!0),r=f(null),l=f(""),c=R(()=>t.user),s=async()=>{try{const n=await E.get("/admin/dashboard");n.data.success&&(r.value=n.data.data.stats)}catch(n){console.error("Error fetching dashboard data:",n),l.value="Erreur lors du chargement des données"}finally{u.value=!1}};return q(()=>{if(!c.value||c.value.role!=="super_user"){i.push("/");return}s()}),{loading:u,stats:r,error:l,user:c}}},Ua={class:"space-y-6"},$a={class:"bg-white dark:bg-gray-800 shadow"},Pa={class:"flex space-x-8"},Va={key:0,class:"flex justify-center items-center h-64"},Da={key:1},Ba={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8"},Ra={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},qa={class:"p-5"},Na={class:"flex items-center"},Fa={class:"ml-5 w-0 flex-1"},Ha={class:"text-lg font-medium text-gray-900 dark:text-white"},Ta={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Ia={class:"p-5"},Ga={class:"flex items-center"},Oa={class:"ml-5 w-0 flex-1"},Ja={class:"text-lg font-medium text-gray-900 dark:text-white"},Ya={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Qa={class:"p-5"},Wa={class:"flex items-center"},Za={class:"ml-5 w-0 flex-1"},Ka={class:"text-lg font-medium text-gray-900 dark:text-white"},Xa={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},en={class:"p-5"},tn={class:"flex items-center"},rn={class:"ml-5 w-0 flex-1"},sn={class:"text-lg font-medium text-gray-900 dark:text-white"},on={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},an={class:"px-4 py-5 sm:p-6"},nn={class:"text-sm text-gray-500 dark:text-gray-400"},ln={class:"mt-8"},dn={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"};function cn(i,t,u,r,l,c){const s=B("router-link");return o(),a("div",Ua,[e("nav",$a,[e("div",Pa,[C(s,{to:"/admin/dashboard",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[0]||(t[0]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/users",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[1]||(t[1]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/sessions",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[2]||(t[2]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/settings",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[3]||(t[3]=[b(" Paramètres ",-1)])]),_:1},8,["class"])])]),r.loading?(o(),a("div",Va,[...t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):(o(),a("div",Da,[e("div",Ba,[e("div",Ra,[e("div",qa,[e("div",Na,[t[6]||(t[6]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),e("div",Fa,[e("dl",null,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Total Utilisateurs ",-1)),e("dd",Ha,d(r.stats?.total_users||0),1)])])])])]),e("div",Ta,[e("div",Ia,[e("div",Ga,[t[8]||(t[8]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Oa,[e("dl",null,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Utilisateurs Actifs ",-1)),e("dd",Ja,d(r.stats?.active_users||0),1)])])])])]),e("div",Ya,[e("div",Qa,[e("div",Wa,[t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Za,[e("dl",null,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Sessions Actives ",-1)),e("dd",Ka,d(r.stats?.active_sessions||0),1)])])])])]),e("div",Xa,[e("div",en,[e("div",tn,[t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),e("div",rn,[e("dl",null,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"}," Super Utilisateurs ",-1)),e("dd",sn,d(r.stats?.super_users||0),1)])])])])])]),e("div",on,[e("div",an,[t[13]||(t[13]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Activité Récente ",-1)),e("div",nn,[e("p",null,"Nouveaux utilisateurs cette semaine : "+d(r.stats?.recent_users||0),1),e("p",null,"Total des sessions : "+d(r.stats?.total_sessions||0),1)])])]),e("div",ln,[t[17]||(t[17]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4"}," Actions Rapides ",-1)),e("div",dn,[C(s,{to:"/admin/users",class:"relative group bg-white dark:bg-gray-800 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-yellow-500 rounded-lg shadow hover:shadow-md transition-shadow"},{default:M(()=>[...t[14]||(t[14]=[e("div",null,[e("span",{class:"rounded-lg inline-flex p-3 bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-400 ring-4 ring-white dark:ring-gray-800"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])],-1),e("div",{class:"mt-8"},[e("h3",{class:"text-lg font-medium text-white"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),b(" Gérer les Utilisateurs ")]),e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Voir, modifier et gérer tous les utilisateurs du système ")],-1)])]),_:1}),C(s,{to:"/admin/sessions",class:"relative group bg-white dark:bg-gray-800 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-yellow-500 rounded-lg shadow hover:shadow-md transition-shadow"},{default:M(()=>[...t[15]||(t[15]=[e("div",null,[e("span",{class:"rounded-lg inline-flex p-3 bg-green-50 dark:bg-green-900 text-green-600 dark:text-green-400 ring-4 ring-white dark:ring-gray-800"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])])],-1),e("div",{class:"mt-8"},[e("h3",{class:"text-lg font-medium text-white"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),b(" Gérer les Sessions ")]),e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Surveiller et gérer les sessions utilisateur actives ")],-1)])]),_:1}),C(s,{to:"/admin/settings",class:"relative group bg-white dark:bg-gray-800 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-yellow-500 rounded-lg shadow hover:shadow-md transition-shadow"},{default:M(()=>[...t[16]||(t[16]=[e("div",null,[e("span",{class:"rounded-lg inline-flex p-3 bg-yellow-50 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400 ring-4 ring-white dark:ring-gray-800"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])])],-1),e("div",{class:"mt-8"},[e("h3",{class:"text-lg font-medium text-white"},[e("span",{class:"absolute inset-0","aria-hidden":"true"}),b(" Paramètres Système ")]),e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Configurer les paramètres globaux du système ")],-1)])]),_:1})])])]))])}const un=A(La,[["render",cn]]),mn={name:"AdminUsers",setup(){const i=N(),t=$(),u=f(!0),r=f([]),l=f(null),c=f(""),s=R(()=>t.user),n=F({search:"",role:"",status:""});let y=null;const g=()=>{clearTimeout(y),y=setTimeout(()=>{x()},500)},x=async(z=1)=>{try{console.log("=== FETCH USERS START ==="),u.value=!0;const j={page:z,per_page:15,...n};console.log("Fetching users with params:",j);const S=await E.get("/admin/users",{params:j});console.log("Users response:",S.status,S.data),console.log("Checking response.data.success:",S.data.success),console.log("Response.data structure:",Object.keys(S.data)),console.log("Response.data.data structure:",Object.keys(S.data.data||{})),S.data.success?(r.value=S.data.data.data,console.log("Users loaded:",r.value.length,"users"),console.log("Users content:",r.value),l.value={current_page:S.data.data.current_page,last_page:S.data.data.last_page,from:S.data.data.from,to:S.data.data.to,total:S.data.data.total,prev_page_url:S.data.data.prev_page_url,next_page_url:S.data.data.next_page_url},console.log("Pagination:",l.value)):(console.error("API returned success=false:",S.data),c.value="Réponse inattendue du serveur")}catch(j){console.error("=== FETCH USERS ERROR ==="),console.error("Error fetching users:",j),console.error("Error response:",j.response?.data),console.error("Error status:",j.response?.status),console.error("Error headers:",j.response?.headers),c.value="Erreur lors du chargement des utilisateurs"}finally{u.value=!1,console.log("=== FETCH USERS END ===")}},w=z=>{z>=1&&z<=l.value.last_page&&x(z)},h=R(()=>{if(!l.value)return[];const z=l.value.current_page,j=l.value.last_page,S=[],L=Math.max(1,z-2),Z=Math.min(j,z+2);for(let O=L;O<=Z;O++)S.push(O);return S}),k=async z=>{try{(await E.put(`/admin/users/${z.id}/status`,{is_active:!z.is_active})).data.success&&(z.is_active=!z.is_active)}catch(j){console.error("Error toggling user status:",j),c.value="Erreur lors de la modification du statut"}},P=async z=>{if(confirm(`Êtes-vous sûr de vouloir supprimer l'utilisateur ${z.name} ?`))try{(await E.delete(`/admin/users/${z.id}`)).data.success&&await x(l.value.current_page)}catch(j){console.error("Error deleting user:",j),c.value="Erreur lors de la suppression de l'utilisateur"}};return q(()=>{if(!s.value||s.value.role!=="super_user"){i.push("/");return}x()}),{loading:u,users:r,pagination:l,error:c,user:s,filters:n,debouncedSearch:g,fetchUsers:x,changePage:w,visiblePages:h,toggleUserStatus:k,deleteUser:P}}},gn={class:"space-y-6"},fn={class:"bg-white dark:bg-gray-800 shadow"},xn={class:"flex space-x-8"},pn={class:"bg-white dark:bg-gray-800 shadow rounded-lg mb-6"},yn={class:"px-4 py-5 sm:p-6"},vn={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},bn={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md"},hn={key:0,class:"flex justify-center items-center h-64"},wn={key:1,class:"px-4 py-5 sm:p-6"},kn={class:"rounded-md bg-red-50 dark:bg-red-900 p-4"},_n={class:"text-sm text-red-800 dark:text-red-200"},Cn={key:2,class:"px-4 py-5 sm:p-6 text-center"},Mn={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700"},Sn={class:"flex items-center justify-between"},zn={class:"flex items-center"},jn={class:"flex-shrink-0 h-10 w-10"},An={class:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center"},En={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ln={class:"ml-4"},Un={class:"text-sm font-medium text-gray-900 dark:text-white"},$n={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},Pn={key:1,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Vn={class:"text-sm text-gray-500 dark:text-gray-400"},Dn={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Bn={class:"flex items-center space-x-2"},Rn={class:"flex space-x-1"},qn=["onClick","disabled"],Nn=["onClick"],Fn={key:4,class:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6"},Hn={class:"flex-1 flex justify-between sm:hidden"},Tn=["disabled"],In=["disabled"],Gn={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},On={class:"text-sm text-gray-700 dark:text-gray-300"},Jn={class:"font-medium"},Yn={class:"font-medium"},Qn={class:"font-medium"},Wn={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Zn=["onClick"];function Kn(i,t,u,r,l,c){const s=B("router-link");return o(),a("div",gn,[e("nav",fn,[e("div",xn,[C(s,{to:"/admin/dashboard",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[8]||(t[8]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/users",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[9]||(t[9]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/sessions",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[10]||(t[10]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/settings",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[11]||(t[11]=[b(" Paramètres ",-1)])]),_:1},8,["class"])])]),e("div",pn,[e("div",yn,[e("div",vn,[e("div",null,[t[12]||(t[12]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Rechercher ",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>r.filters.search=n),type:"text",id:"search",placeholder:"Nom, email, entreprise...",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm",onInput:t[1]||(t[1]=(...n)=>r.debouncedSearch&&r.debouncedSearch(...n))},null,544),[[_,r.filters.search]])]),e("div",null,[t[14]||(t[14]=e("label",{for:"role",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Rôle ",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.filters.role=n),id:"role",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm",onChange:t[3]||(t[3]=(...n)=>r.fetchUsers&&r.fetchUsers(...n))},[...t[13]||(t[13]=[e("option",{value:""},"Tous les rôles",-1),e("option",{value:"user"},"Utilisateur",-1),e("option",{value:"admin"},"Administrateur",-1),e("option",{value:"super_user"},"Super Utilisateur",-1)])],544),[[Q,r.filters.role]])]),e("div",null,[t[16]||(t[16]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Statut ",-1)),v(e("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>r.filters.status=n),id:"status",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm",onChange:t[5]||(t[5]=(...n)=>r.fetchUsers&&r.fetchUsers(...n))},[...t[15]||(t[15]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1)])],544),[[Q,r.filters.status]])])])])]),e("div",bn,[r.loading?(o(),a("div",hn,[...t[17]||(t[17]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):r.error?(o(),a("div",wn,[e("div",kn,[e("div",_n,d(r.error),1)])])):r.users.length===0?(o(),a("div",Cn,[...t[18]||(t[18]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"Aucun utilisateur trouvé",-1)])])):(o(),a("ul",Mn,[(o(!0),a(H,null,T(r.users,n=>(o(),a("li",{key:n.id,class:"px-4 py-4 sm:px-6"},[e("div",Sn,[e("div",zn,[e("div",jn,[e("div",An,[e("span",En,d(n.name.charAt(0).toUpperCase()),1)])]),e("div",Ln,[e("div",Un,[b(d(n.name)+" ",1),n.role==="super_user"?(o(),a("span",$n," Super User ")):n.role==="admin"?(o(),a("span",Pn," Admin ")):p("",!0)]),e("div",Vn,d(n.email),1),n.company?(o(),a("div",Dn,d(n.company)+" - "+d(n.position),1)):p("",!0)])]),e("div",Bn,[e("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},d(n.is_active?"Actif":"Inactif"),3),e("div",Rn,[e("button",{onClick:y=>r.toggleUserStatus(n),disabled:n.role==="super_user",class:"text-sm text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 disabled:opacity-50 disabled:cursor-not-allowed"},d(n.is_active?"Désactiver":"Activer"),9,qn),n.role!=="super_user"?(o(),a("button",{key:0,onClick:y=>r.deleteUser(n),class:"text-sm text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Supprimer ",8,Nn)):p("",!0)])])])]))),128))])),r.pagination&&r.pagination.last_page>1?(o(),a("div",Fn,[e("div",Hn,[e("button",{onClick:t[6]||(t[6]=n=>r.changePage(r.pagination.current_page-1)),disabled:!r.pagination.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Précédent ",8,Tn),e("button",{onClick:t[7]||(t[7]=n=>r.changePage(r.pagination.current_page+1)),disabled:!r.pagination.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Suivant ",8,In)]),e("div",Gn,[e("div",null,[e("p",On,[t[19]||(t[19]=b(" Affichage de ",-1)),e("span",Jn,d(r.pagination.from),1),t[20]||(t[20]=b(" à ",-1)),e("span",Yn,d(r.pagination.to),1),t[21]||(t[21]=b(" sur ",-1)),e("span",Qn,d(r.pagination.total),1),t[22]||(t[22]=b(" résultats ",-1))])]),e("div",null,[e("nav",Wn,[(o(!0),a(H,null,T(r.visiblePages,n=>(o(),a("button",{key:n,onClick:y=>r.changePage(n),class:m(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",n===r.pagination.current_page?"z-10 bg-yellow-50 border-yellow-500 text-yellow-600 dark:bg-yellow-900 dark:border-yellow-400 dark:text-yellow-200":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700"])},d(n),11,Zn))),128))])])])])):p("",!0)])])}const Xn=A(mn,[["render",Kn]]),el={name:"AdminSessions",setup(){const i=N(),t=$(),u=f(!0),r=f([]),l=f(""),c=R(()=>t.user),s=async()=>{try{u.value=!0;const g=await E.get("/admin/sessions");g.data.success&&(r.value=g.data.data.data||g.data.data)}catch(g){console.error("Error fetching sessions:",g),l.value="Erreur lors du chargement des sessions"}finally{u.value=!1}},n=async g=>{if(confirm("Êtes-vous sûr de vouloir révoquer cette session ?"))try{(await E.delete(`/admin/sessions/${g}`)).data.success&&await s()}catch(x){console.error("Error revoking session:",x),l.value="Erreur lors de la révocation de la session"}},y=g=>g?new Date(g).toLocaleString("fr-FR"):"Jamais";return q(()=>{if(!c.value||c.value.role!=="super_user"){i.push("/");return}s()}),{loading:u,sessions:r,error:l,user:c,fetchSessions:s,revokeSession:n,formatDate:y}}},tl={class:"space-y-6"},rl={class:"bg-white dark:bg-gray-800 shadow"},sl={class:"flex space-x-8"},ol={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md"},al={key:0,class:"flex justify-center items-center h-64"},nl={key:1,class:"px-4 py-5 sm:p-6"},ll={class:"rounded-md bg-red-50 dark:bg-red-900 p-4"},il={class:"text-sm text-red-800 dark:text-red-200"},dl={key:2,class:"px-4 py-5 sm:p-6 text-center"},cl={key:3,class:"divide-y divide-gray-200 dark:divide-gray-700"},ul={class:"flex items-center justify-between"},ml={class:"flex items-center"},gl={class:"ml-4"},fl={class:"text-sm font-medium text-gray-900 dark:text-white"},xl={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},pl={class:"text-sm text-gray-500 dark:text-gray-400"},yl={class:"text-sm text-gray-500 dark:text-gray-400"},vl={class:"text-sm text-gray-500 dark:text-gray-400"},bl={class:"flex items-center space-x-2"},hl={class:"text-xs text-gray-500 dark:text-gray-400"},wl=["onClick"];function kl(i,t,u,r,l,c){const s=B("router-link");return o(),a("div",tl,[e("nav",rl,[e("div",sl,[C(s,{to:"/admin/dashboard",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[0]||(t[0]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/users",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[1]||(t[1]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/sessions",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[2]||(t[2]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/settings",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[3]||(t[3]=[b(" Paramètres ",-1)])]),_:1},8,["class"])])]),e("div",ol,[r.loading?(o(),a("div",al,[...t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):r.error?(o(),a("div",nl,[e("div",ll,[e("div",il,d(r.error),1)])])):r.sessions.length===0?(o(),a("div",dl,[...t[5]||(t[5]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"Aucune session trouvée",-1)])])):(o(),a("ul",cl,[(o(!0),a(H,null,T(r.sessions,n=>(o(),a("li",{key:n.id,class:"px-4 py-4 sm:px-6"},[e("div",ul,[e("div",ml,[e("div",gl,[e("div",fl,[b(d(n.user?.name||"Utilisateur inconnu")+" ",1),n.is_current?(o(),a("span",xl," Active ")):p("",!0)]),e("div",pl,d(n.user?.email||""),1),e("div",yl,d(n.device_name)+" - "+d(n.platform)+" - "+d(n.browser),1),e("div",vl,d(n.ip_address),1)])]),e("div",bl,[e("span",hl,d(r.formatDate(n.created_at)),1),e("button",{onClick:y=>r.revokeSession(n.id),class:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-xs font-medium"}," Révoquer ",8,wl)])])]))),128))]))])])}const _l=A(el,[["render",kl]]),Cl={name:"AdminSettings",setup(){const i=N(),t=$(),u=f(!0),r=f(""),l=f(""),c=R(()=>t.user),s=F({app_name:"",app_url:"",maintenance_mode:!1,registration_enabled:!0,max_sessions_per_user:5,session_timeout:24}),n=async()=>{try{u.value=!0;const g=await E.get("/admin/settings");g.data.success&&Object.assign(s,g.data.data)}catch(g){console.error("Error fetching settings:",g),r.value="Erreur lors du chargement des paramètres"}finally{u.value=!1}},y=async()=>{try{r.value="",l.value="",(await E.put("/admin/settings",s)).data.success&&(l.value="Paramètres mis à jour avec succès",setTimeout(()=>{l.value=""},3e3))}catch(g){console.error("Error updating settings:",g),r.value="Erreur lors de la mise à jour des paramètres"}};return q(()=>{if(!c.value||c.value.role!=="super_user"){i.push("/");return}n()}),{loading:u,settings:s,error:r,successMessage:l,user:c,fetchSettings:n,updateSettings:y}}},Ml={class:"space-y-6"},Sl={class:"bg-white dark:bg-gray-800 shadow"},zl={class:"flex space-x-8"},jl={class:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg"},Al={class:"px-4 py-5 sm:p-6"},El={key:0,class:"flex justify-center items-center h-64"},Ll={key:1,class:"rounded-md bg-red-50 dark:bg-red-900 p-4 mb-4"},Ul={class:"text-sm text-red-800 dark:text-red-200"},$l={key:2,class:"space-y-6"},Pl={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Vl={class:"flex items-center"},Dl={class:"flex items-center"},Bl={key:0,class:"rounded-md bg-green-50 dark:bg-green-900 p-4"},Rl={class:"text-sm text-green-800 dark:text-green-200"};function ql(i,t,u,r,l,c){const s=B("router-link");return o(),a("div",Ml,[e("nav",Sl,[e("div",zl,[C(s,{to:"/admin/dashboard",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/dashboard"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[10]||(t[10]=[b(" Tableau de bord ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/users",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/users"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[11]||(t[11]=[b(" Utilisateurs ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/sessions",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/sessions"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[12]||(t[12]=[b(" Sessions ",-1)])]),_:1},8,["class"]),C(s,{to:"/admin/settings",class:m(["border-b-2 py-4 px-1 text-sm font-medium",i.$route.path==="/admin/settings"?"border-yellow-500 text-yellow-600 dark:text-yellow-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},{default:M(()=>[...t[13]||(t[13]=[b(" Paramètres ",-1)])]),_:1},8,["class"])])]),e("div",jl,[e("div",Al,[t[21]||(t[21]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6"}," Paramètres Système ",-1)),r.loading?(o(),a("div",El,[...t[14]||(t[14]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500"},null,-1)])])):r.error?(o(),a("div",Ll,[e("div",Ul,d(r.error),1)])):(o(),a("div",$l,[e("div",Pl,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Nom de l'application ",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>r.settings.app_name=n),type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,512),[[_,r.settings.app_name]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," URL de l'application ",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>r.settings.app_url=n),type:"text",disabled:"",class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,512),[[_,r.settings.app_url]])]),e("div",null,[e("label",Vl,[v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.settings.maintenance_mode=n),type:"checkbox",onChange:t[3]||(t[3]=(...n)=>r.updateSettings&&r.updateSettings(...n)),class:"rounded border-gray-300 text-yellow-600 shadow-sm focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50"},null,544),[[G,r.settings.maintenance_mode]]),t[17]||(t[17]=e("span",{class:"ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Mode maintenance ",-1))])]),e("div",null,[e("label",Dl,[v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>r.settings.registration_enabled=n),type:"checkbox",onChange:t[5]||(t[5]=(...n)=>r.updateSettings&&r.updateSettings(...n)),class:"rounded border-gray-300 text-yellow-600 shadow-sm focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50"},null,544),[[G,r.settings.registration_enabled]]),t[18]||(t[18]=e("span",{class:"ml-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Inscription activée ",-1))])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Sessions max par utilisateur ",-1)),v(e("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>r.settings.max_sessions_per_user=n),type:"number",min:"1",max:"10",onChange:t[7]||(t[7]=(...n)=>r.updateSettings&&r.updateSettings(...n)),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,544),[[_,r.settings.max_sessions_per_user,void 0,{number:!0}]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Délai d'expiration (heures) ",-1)),v(e("input",{"onUpdate:modelValue":t[8]||(t[8]=n=>r.settings.session_timeout=n),type:"number",min:"1",max:"168",onChange:t[9]||(t[9]=(...n)=>r.updateSettings&&r.updateSettings(...n)),class:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 dark:bg-gray-700 dark:text-white sm:text-sm"},null,544),[[_,r.settings.session_timeout,void 0,{number:!0}]])])]),r.successMessage?(o(),a("div",Bl,[e("div",Rl,d(r.successMessage),1)])):p("",!0)]))])])])}const Nl=A(Cl,[["render",ql]]),Fl=[{path:"/",name:"Home",redirect:"/login"},{path:"/login",name:"Login",component:W,meta:{requiresGuest:!0}},{path:"/register",name:"Register",component:W,meta:{requiresGuest:!0}},{path:"/dashboard",name:"Dashboard",component:js,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:Ys,meta:{requiresAuth:!0}},{path:"/security",name:"Security",component:Po,meta:{requiresAuth:!0}},{path:"/notifications",name:"Notifications",component:ma,meta:{requiresAuth:!0}},{path:"/about",name:"About",component:ba,meta:{requiresAuth:!0}},{path:"/admin/login",name:"AdminLogin",component:Ea,meta:{requiresAuth:!0}},{path:"/admin/dashboard",name:"AdminDashboard",component:un,meta:{requiresAuth:!0,requiresSuperUser:!0}},{path:"/admin/users",name:"AdminUsers",component:Xn,meta:{requiresAuth:!0,requiresSuperUser:!0}},{path:"/admin/sessions",name:"AdminSessions",component:_l,meta:{requiresAuth:!0,requiresSuperUser:!0}},{path:"/admin/settings",name:"AdminSettings",component:Nl,meta:{requiresAuth:!0,requiresSuperUser:!0}}],Hl=X({history:ee(),routes:Fl});Hl.beforeEach(async(i,t,u)=>{console.log("Router guard: navigating to",i.path);const r=$();await r.checkAuth();const l=r.authenticated,c=r.user;if(i.path==="/"){u(l?"/dashboard":"/login");return}if(i.meta.requiresAuth){if(!l){console.log("User not authenticated, redirecting to login"),u("/login");return}if(i.meta.requiresSuperUser&&c?.role!=="super_user"){console.log("User is not a super user, redirecting to dashboard"),u("/dashboard");return}}if(i.meta.requiresGuest&&l){console.log("User is authenticated, redirecting to dashboard"),u("/dashboard");return}u()});export{Hl as default};
